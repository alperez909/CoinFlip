function initializeParse(){Parse.initialize("voegPLFhf3W3RI7jHxjFTbcKLMES65BurXu6RWXT","yGs1GUDM7Kb3BghCXWbeHK2bEH760kNgwZwm6Lvv")}function getMetal(){return location.search.split("metal=")[1]}function initializePage(){current_metal=getMetal(),current_metal=current_metal.charAt(0).toUpperCase()+current_metal.slice(1),document.getElementById("metalTitle").innerHTML="My "+current_metal+" - CoinFlip",document.getElementById("myMetalLabel").innerHTML="MY "+current_metal.toUpperCase(),document.getElementById("metalTotalLabel").innerHTML="<div class='legend-item-color' id='legend-1'></div>"+current_metal+" Total",document.getElementById("ozLabel").innerHTML="<div class='legend-item-color' id='legend-4'></div> 1oz "+current_metal,document.getElementById("metalHeader").innerHTML="My "+current_metal,document.getElementById("metalValueLabel").innerHTML="My "+current_metal+" Value"}function goToAddNewItem(){window.location="addnewitem.html?metal="+metalStringToNumber(current_metal)}function loadTopNav(){document.write("    <nav>"),document.write('        <svg class="icon-spinner2">'),document.write('            <symbol id="icon-spinner2" viewBox="0 0 1024 1024">'),document.write("                <title>spinner2</title>"),document.write('                <path class="path1" d="M1024 384h-384l143.53-143.53c-72.53-72.526-168.96-112.47-271.53-112.47s-199 39.944-271.53 112.47c-72.526 72.53-112.47 168.96-112.47 271.53s39.944 199 112.47 271.53c72.53 72.526 168.96 112.47 271.53 112.47s199-39.944 271.528-112.472c6.056-6.054 11.86-12.292 17.456-18.668l96.32 84.282c-93.846 107.166-231.664 174.858-385.304 174.858-282.77 0-512-229.23-512-512s229.23-512 512-512c141.386 0 269.368 57.326 362.016 149.984l149.984-149.984v384z"></path>'),document.write("            </symbol>"),document.write('            <use xlink:href="#icon-spinner2"></use>'),document.write("        </svg>"),document.write('        <a onclick="mixpanel.track(\'coinflip_icon\');" href="home.html">COINFLIP</a>'),document.write('        <svg class="icon-cog">'),document.write('            <symbol id="icon-cog" viewBox="0 0 1024 1024">'),document.write("                <title>cog</title>"),document.write('                <path class="path1" d="M933.79 610.25c-53.726-93.054-21.416-212.304 72.152-266.488l-100.626-174.292c-28.75 16.854-62.176 26.518-97.846 26.518-107.536 0-194.708-87.746-194.708-195.99h-201.258c0.266 33.41-8.074 67.282-25.958 98.252-53.724 93.056-173.156 124.702-266.862 70.758l-100.624 174.292c28.97 16.472 54.050 40.588 71.886 71.478 53.638 92.908 21.512 211.92-71.708 266.224l100.626 174.292c28.65-16.696 61.916-26.254 97.4-26.254 107.196 0 194.144 87.192 194.7 194.958h201.254c-0.086-33.074 8.272-66.57 25.966-97.218 53.636-92.906 172.776-124.594 266.414-71.012l100.626-174.29c-28.78-16.466-53.692-40.498-71.434-71.228zM512 719.332c-114.508 0-207.336-92.824-207.336-207.334 0-114.508 92.826-207.334 207.336-207.334 114.508 0 207.332 92.826 207.332 207.334-0.002 114.51-92.824 207.334-207.332 207.334z"></path>'),document.write("            </symbol>"),document.write('            <use xlink:href="#icon-cog"></use>'),document.write("        </svg>"),document.write('		<svg class="icon-account-logout">'),document.write('            <symbol id="icon-account-logout" viewBox="0 0 8 8">'),document.write("                <title>logout</title>"),document.write('				<path class="path1" d="M3 0v1h4v5h-4v1h5v-7h-5zm-1 2l-2 1.5 2 1.5v-1h4v-1h-4v-1z"></path>'),document.write("            </symbol>"),document.write('            <use xlink:href="#icon-account-logout"></use>'),document.write("		</svg>"),document.write("    </nav>")}function loadTopNavPersist(){document.write("    <nav style='display: block; visibility: visible;'>"),document.write('        <svg class="icon-spinner2">'),document.write('            <symbol id="icon-spinner2" viewBox="0 0 1024 1024">'),document.write("                <title>spinner2</title>"),document.write('                <path class="path1" d="M1024 384h-384l143.53-143.53c-72.53-72.526-168.96-112.47-271.53-112.47s-199 39.944-271.53 112.47c-72.526 72.53-112.47 168.96-112.47 271.53s39.944 199 112.47 271.53c72.53 72.526 168.96 112.47 271.53 112.47s199-39.944 271.528-112.472c6.056-6.054 11.86-12.292 17.456-18.668l96.32 84.282c-93.846 107.166-231.664 174.858-385.304 174.858-282.77 0-512-229.23-512-512s229.23-512 512-512c141.386 0 269.368 57.326 362.016 149.984l149.984-149.984v384z"></path>'),document.write("            </symbol>"),document.write('            <use xlink:href="#icon-spinner2"></use>'),document.write("        </svg>"),document.write('        <a onclick="mixpanel.track(\'coinflip_icon\');" href="home.html">COINFLIP</a>'),document.write('        <svg class="icon-cog">'),document.write('            <symbol id="icon-cog" viewBox="0 0 1024 1024">'),document.write("                <title>cog</title>"),document.write('                <path class="path1" d="M933.79 610.25c-53.726-93.054-21.416-212.304 72.152-266.488l-100.626-174.292c-28.75 16.854-62.176 26.518-97.846 26.518-107.536 0-194.708-87.746-194.708-195.99h-201.258c0.266 33.41-8.074 67.282-25.958 98.252-53.724 93.056-173.156 124.702-266.862 70.758l-100.624 174.292c28.97 16.472 54.050 40.588 71.886 71.478 53.638 92.908 21.512 211.92-71.708 266.224l100.626 174.292c28.65-16.696 61.916-26.254 97.4-26.254 107.196 0 194.144 87.192 194.7 194.958h201.254c-0.086-33.074 8.272-66.57 25.966-97.218 53.636-92.906 172.776-124.594 266.414-71.012l100.626-174.29c-28.78-16.466-53.692-40.498-71.434-71.228zM512 719.332c-114.508 0-207.336-92.824-207.336-207.334 0-114.508 92.826-207.334 207.336-207.334 114.508 0 207.332 92.826 207.332 207.334-0.002 114.51-92.824 207.334-207.332 207.334z"></path>'),document.write("            </symbol>"),document.write('            <use xlink:href="#icon-cog"></use>'),document.write("        </svg>"),document.write('		<svg class="icon-account-logout">'),document.write('            <symbol id="icon-account-logout" viewBox="0 0 8 8">'),document.write("                <title>logout</title>"),document.write('				<path class="path1" d="M3 0v1h4v5h-4v1h5v-7h-5zm-1 2l-2 1.5 2 1.5v-1h4v-1h-4v-1z"></path>'),document.write("            </symbol>"),document.write('            <use xlink:href="#icon-account-logout"></use>'),document.write("		</svg>"),document.write("    </nav>")}function loadSideNav(e){document.write("    <aside>"),document.write('        <a onclick="mixpanel.track(\'home_icon\');" href="home.html">'),document.write(0==e?"        <figure onclick=\"mixpanel.track('home_icon');\" class='nav-selected'>":"        <figure>"),document.write("            <br/>"),document.write('              <svg class="icon-home2">'),document.write('                    <symbol id="icon-home2" viewBox="0 0 1024 1024">'),document.write("                        <title>home2</title>"),document.write('                        <path class="path1" d="M426.667 853.333v-256h170.667v256h213.333v-341.333h128l-426.667-384-426.667 384h128v341.333z"></path>'),document.write("                    </symbol>"),document.write('                    <use xlink:href="#icon-home2"></use>'),document.write("                </svg>"),document.write(""),document.write("            <figcaption>Home</figcaption>"),document.write("        </figure>       "),document.write("        </a> "),document.write('        <a onclick="mixpanel.track(\'mygold_icon\');" href="mymetal.html?metal=gold">'),document.write(1==e?"        <figure class='nav-selected'>":"        <figure>"),document.write("            Au"),document.write("            <figcaption>My Gold</figcaption>"),document.write("        </figure>       "),document.write("        </a> "),document.write('        <a onclick="mixpanel.track(\'mysilver_icon\');" href="mymetal.html?metal=silver">'),document.write(2==e?"        <figure class='nav-selected'>":"        <figure>"),document.write("            Ag"),document.write("            <figcaption>My Silver</figcaption>"),document.write("        </figure>       "),document.write("        </a> "),document.write('        <a onclick="mixpanel.track(\'myplatinum_icon\');" href="mymetal.html?metal=platinum">'),document.write(3==e?"        <figure class='nav-selected'>":"        <figure>"),document.write("            Pt"),document.write("            <figcaption>My Platinum</figcaption>"),document.write("        </figure>"),document.write("        </a> "),document.write("    </aside>")}function loadFooter(){document.write("    <footer>"),document.write("        &copy; 2015 CoinFlip"),document.write("    </footer> ")}function getTotalForMonth(e){var t=metal_total_data[GOLD][e]?parseFloat(metal_total_data[GOLD][e]):0,n=metal_total_data[SILVER][e]?parseFloat(metal_total_data[SILVER][e]):0,i=metal_total_data[PLATINUM][e]?parseFloat(metal_total_data[PLATINUM][e]):0;return t+n+i}function updateMonthlyValues(){var e,t,n,i,r=(new Date).getMonth();if(current_metal){var a=metalStringToNumber(current_metal);i=0==metal_total_data[a][(r-1)%12]?1:metal_total_data[a][(r-1)%12],n=(metal_total_data[a][r]-metal_total_data[a][r-1])/i*100,(n==Number.POSITIVE_INFINITY||n==Number.NEGATIVE_INFINITY)&&(n=parseFloat(metal_total_data[a][r]))}else{var o=getTotalForMonth((r-1)%12);i=0==o?100:o,n=(getTotalForMonth(r)-o)/i*100}isNaN(n)&&(n=0),n>=0?(t="+",e="pos-change"):(t="-",e="neg-change"),document.getElementById("monthlyChangeValue")["class"]=e,document.getElementById("monthlyChangeValue").innerHTML=t+n.toFixed(2).toString()+"%"}function selectProperMetal(){var e=getMetal();document.getElementById("metalValue").selectedIndex=e,updateAddStackItemLabels(0==e?"Gold":1==e?"Silver":"Platinum")}function onTypeChange(){if("New"==document.getElementById("typeValue").value)toggleNewTypeVisibility();else{var e=metal_types[document.getElementById("typeValue").selectedIndex],t=e.getPercentMetal(),n=e.getWeight(),i=t*n,r=i/31.1034768,a=document.getElementById("premiumValue").value,o=document.getElementById("unitPriceValue").value,s=parseFloat(a)+parseFloat(o);document.getElementById("guValue").innerHTML=i.toFixed(2),document.getElementById("oztuValue").innerHTML=r.toFixed(2),document.getElementById("totalAuValue").innerHTML=(document.getElementById("quantityValue").value*r).toFixed(2),document.getElementById("percentValue").innerHTML=t,document.getElementById("weightValue").innerHTML=n,document.getElementById("totalValue").innerHTML=s.toFixed(2)}}function toggleNewTypeVisibility(){var e=document.getElementById("newTypeDialog");e.style.display="none"==e.style.display?"block":"none"}function submitNewMetalType(){var e=document.getElementById("input_typeName").value,t=document.getElementById("input_typePercent").value,n=document.getElementById("input_typeWeight").value;createStackType({done:function(t){metal_types.push(t);var n=document.createElement("option");n.innerHTML="Add new type",n.value="New";var i=document.getElementById("typeValue"),r=i.options;r[i.selectedIndex].innerHTML=e,r[i.selectedIndex].value=t.id,r.add(n),onTypeChange()}},e,t,n),toggleNewTypeVisibility()}function metalStringToNumber(e){return"gold"==e.toLowerCase()?GOLD:"silver"==e.toLowerCase()?SILVER:PLATINUM}function saveToMyStack(){var e=document.getElementById("metalValue").value,t=document.getElementById("typeValue").value,n=new Date(document.getElementById("purchaseDateValue").value),i=document.getElementById("quantityValue").value,r=document.getElementById("premiumValue").value,a=document.getElementById("unitPriceValue").value,o=document.getElementById("percentValue").innerHTML,s=document.getElementById("weightValue").innerHTML,l={done:function(){window.location="home.html"}},c={done:function(e){var t=document.getElementById("coinPhotoFileUpload");if(t.files.length>0){var n=t.files[0];setPicture(e,n,l)}else l.done()}};return createStackItem(c,e,t,n,i,r,a,o,s),console.log("Complete"),!0}function deleteItem(){var e=deleteConfirmation(),t=getItemDetailId(),n={done:function(e){window.location="home.html"}};if(1==e){console.log("returned true");{deleteStackItem(t,n)}console.log("Item was Deleted")}}function updateAddStackItemLabels(e){var t=document.getElementById("premiumValue").value,n=document.getElementById("unitPriceValue").value,i=parseFloat(t)+parseFloat(n);document.getElementById("percentLabel").innerHTML=e+" %",document.getElementById("guLabel").innerHTML=e+" g/u",document.getElementById("oztuLabel").innerHTML=e+" ozt/u";var r=getChemicalSymbol(e);document.getElementById("totalAuLabel").innerHTML="Total "+r+" (ozt)",document.getElementById("totalValue").innerHTML=i.toFixed(2)}function getChemicalSymbol(e){return"gold"==e.toLowerCase()?"au":"silver"==e.toLowerCase()?"ag":"pt"}function onAddStackItemUpdateTotal(){document.getElementById("totalValue").innerHTML=(parseFloat(document.getElementById("quantityValue").innerHTML)*(parseFloat(document.getElementById("unitPriceValue").innerHTML)+parseFloat(document.getElementById("premiumValue").innerHTML))).toFixed(2)}function onEditAddStackItemUpdateTotal(){document.getElementById("totalValue").innerHTML=(parseFloat(document.getElementById("quantityValue").value)*(parseFloat(document.getElementById("unitPriceValue").value)+parseFloat(document.getElementById("premiumValue").value))).toFixed(2)}function createCoinRow(e,t){var n=document.createElement("tr");n.onclick=function(){window.location="itemdetail.html?id="+e};var i=document.createElement("td");i.className="stack_img_col",i.innerHTML=t.pic?"<img src='"+t.pic._url+"' alt='fake_img' style='width:35px;height:35px'>":'<div class="coin_mini"></div>';var r=document.createElement("td");r.innerHTML=t.type._serverData.name;var a=document.createElement("td");a.innerHTML=t.qty;var o=document.createElement("td");o.innerHTML=t.weight;var s=document.createElement("td");s.innerHTML=t.percent_au;var l=document.createElement("td");l.innerHTML=t.premium+t.unit_price,n.appendChild(i),n.appendChild(r),n.appendChild(a),n.appendChild(o),n.appendChild(s),n.appendChild(l),document.getElementById("coinList").appendChild(n)}function createUser(){var e=new Parse.User;e.set("username",document.getElementById("sign-up-username").value),e.set("email",document.getElementById("sign-up-email").value),e.set("password",document.getElementById("sign-up-password").value),e.signUp(null,{success:function(e){window.location.href="./home.html"},error:function(e,t){displayError(t)}})}function loginUser(){Parse.User.logIn(document.getElementById("log-in-username").value,document.getElementById("log-in-password").value,{success:function(e){window.location.href="./home.html"},error:function(e,t){displayError(t)}})}function displayMessage(e){var t=document.createElement("div"),n=document.createElement("div");n.innerHTML=e,document.getElementById("message")?document.getElementById("message").innerHTML=e:(t.innerHTML=n.outerHTML,t.setAttribute("id","message"),document.getElementById("auth-banner").appendChild(t))}function displayError(e){displayMessage(e.message),document.getElementById("message").setAttribute("style","background-color:rgb(140, 67, 67)")}function facebookSetup(){window.fbAsyncInit=function(){Parse.FacebookUtils.init({appId:"1856532144572747",status:!0,cookie:!0,xfbml:!0,version:"v2.3"})},function(e,t,n){var i,r=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(i,r))}(document,"script","facebook-jssdk")}function loginFacebookUser(){Parse.FacebookUtils.logIn(null,{success:function(e){window.location.href=(e.existed(),"./home.html")},error:function(e,t){Parse.User.logOut(),displayError(t)}})}function userRedirect(){var e=window.location.pathname.split("/").pop();"index.html"===e||"signup.html"===e||"login.html"===e||""===e?Parse.User.current()&&window.location.replace("./home.html"):null===Parse.User.current()&&window.location.replace("./index.html")}function getTheme(){var e=Parse.User.current();return e?e.get("theme"):""}function isLightTheme(){return"Light"===getTheme()}function getMultiplier(){return isLightTheme()?3:1}function setRadioButton(){isLightTheme()?($("#light-theme-radio").attr("checked",""),$("#dark-theme-radio").removeAttr("checked")):($("#dark-theme-radio").attr("checked",""),$("#light-theme-radio").removeAttr("checked"))}function switchRadio(e,t){t.checked=!e.checked}function displaySuccess(e){displayMessage(e),document.getElementById("message").setAttribute("style","background-color:rgb(60, 111, 52)")}function getUserInfo(){var e=Parse.User.current(),t=e.get("name"),n=e.getUsername(),i=e.getEmail();document.getElementById("user-full-name").value=t,document.getElementById("user-name").value=n,document.getElementById("user-email").value=i,isLightTheme()?($("#light-theme-radio").attr("checked",""),$("#dark-theme-radio").removeAttr("checked")):($("#dark-theme-radio").attr("checked",""),$("#light-theme-radio").removeAttr("checked"))}function checkPasswordEqual(){var e=document.getElementById("user-password").value,t=document.getElementById("user-re-password").value;return""===e&&""===t?!1:e===t?!0:!1}function updateUserChanges(){var e=Parse.User.current(),t=document.getElementById("user-full-name").value,n=document.getElementById("user-name").value,i=document.getElementById("user-email").value,r=document.getElementById("user-password").value,a=document.getElementById("user-re-password").value,o=document.getElementById("light-theme-radio");if(e.set("name",t),o.checked?e.set("theme",o.value):e.set("theme","Dark"),e.save(null,{success:function(e){},error:function(e,t){console.log(t.message)}}),e.setUsername(n,{success:function(e){},error:function(e,t){console.log(t.message)}}),e.setEmail(i,{success:function(e){},error:function(e,t){console.log(t.message)}}),checkPasswordEqual())e.set("password",r),e.save().then(function(e){displaySuccess("Password successfully changed"),Parse.User.logOut(),Parse.User.logIn(n,r,{success:function(e){window.location.href="./index.html"},error:function(e,t){displayError(t)}})},function(e){handleParseError(e,n,r)});else if(""!=r||""!=a){var s=new Parse.Error("123456","Passwords don't match");displayError(s)}else e.save(null,{success:function(e){location.reload()},error:function(e,t){displayError(t)}})}function requestChecked(){return document.getElementById("reset-password-box").checked}function getCoins(e){var t=metalNumberToString(e),n={done:function(e){var t;for(t=0;t<e.length;t++)createCoinRow(e[t].id,e[t]._serverData)}};viewStackItemsWithMetalType(n,t)}function generateCoinList(e){getCoins(e)}function formatDate(e){var t=new Date(e);return t.setDate(e.getDate()-1),t.toJSON().split("T")[0]}function toggleMonthDayButton(){graph_src="day"==graph_src?"month":"day",getChartData(graph_src,graph_idx)}function decrementGraphIndex(){graph_idx--,getChartData(graph_src,graph_idx)}function incrementGraphIndex(){graph_idx++,getChartData(graph_src,graph_idx)}function getPrices(e,t,n,i){var r="trim_start="+formatDate(t)+"&trim_end="+formatDate(n),a=new XMLHttpRequest;a.open("GET",metal_price_url[e]+r,!0),a.onload=function(e){if(4===a.readyState)if(200===a.status){var n=JSON.parse(a.response).data.reverse(),r=[],o=new Date(t),s=new Date;s.setDate(s.getDate()+1);var l=0,c=0;if("day"==graph_src)for(;6>l&&6>c&&(n[c]&&n[c][0]==formatDate(o)?(r.push(n[c][1]),c++,l++):(r[l-1]?r.push(r[l-1]):r[l]=null,l++),o.setDate(o.getDate()+1),formatDate(s)!=formatDate(o)););else{r=new Array(6);var u=new Array(6),h=0;graph_idx%2!=0&&(h=6);for(var d=0;d<u.length;d++)u[d]=0,r[d]=0;for(var l=0;l<n.length;l++){var f=new Date(n[l][0]).getMonth()-h;r[f]=r[f]+n[l][1],u[f]++}for(var p=0;p<r.length;p++)r[p]=(r[p]/u[p]).toFixed(2)}i.done(r)}else console.error(a.statusText)},a.onerror=function(e){console.error(a.statusText)},a.send(null)}function getMetalPricesForGraph(e,t,n){console.log("Getting prices for graph"),getPrices(GOLD,e,t,{done:function(i){metal_prices[GOLD]=i,getPrices(SILVER,e,t,{done:function(i){metal_prices[SILVER]=i,getPrices(PLATINUM,e,t,{done:function(e){metal_prices[PLATINUM]=e,n.done()}})}})}})}function generateParameters(e,t){var n,i,r,a=[];if("day"==e){var o,s=new Date;for(s.setDate(s.getDate()-4),s.setDate(s.getDate()+6*t),n=new Date(s),i=new Date(n),i.setDate(n.getDate()+5),o=0;6>o;o++)a.push(1+s.getMonth()+"/"+s.getDate()),s.setDate(s.getDate()+1)}else"month"==e&&(t%2==0?(r=(new Date).getFullYear()+t/2,n=new Date(r,0,2,0,0,0,0),i=new Date(r,6,3,0,0,0,0),i.setDate(i.getDate()-1),a=["January "+r,"February ","March ","April ","May ","June "]):(r=(new Date).getFullYear()+Math.floor(t/2),n=new Date(r,6,2,0,0,0,0),i=new Date(r,11,3,0,0,0,0),a=["July "+r,"August","September","October","November","December"]));var l={label:a,start_date:n,end_date:i};return l}function getTimestampArr(e,t){for(var n=new Date(e.toString()),i={},r=0;6>r;r++){var a=n.toLocaleDateString();i[a]=r,n.setDate(n.getDate()+1)}return i}function getChartData(e,t){var n,i,r=generateParameters(e,t),a=r.start_date,o=r.end_date,s=r.label,l=new Date;l>=a?getMetalPricesForGraph(a,o,{done:function(){i="day"==e?getTimestampArr(a,o):t%2==0?[0,1,2,3,4,5]:[6,7,8,9,10,11],n="month"==e?{ts_arr:i,done:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=new Date(e[i].date);if(this.ts_arr[r.getMonth()]){var a=r.getMonth();n[a]=e[i].val}}for(var i=0;i<n.length;i++)null==n[i]&&(n[i]=null);metal_total_data[metalStringToNumber(t)]=n,metal_graphFlag[metalStringToNumber(t)]=!0}}:{ts_arr:i,done:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=new Date(e[i].date);this.ts_arr[r.toLocaleDateString()]&&(n[this.ts_arr[r.toLocaleDateString()]]=e[i].val)}for(var i=0;i<n.length;i++)null==n[i]&&(n[i]=null);metal_total_data[metalStringToNumber(t)]=n,metal_graphFlag[metalStringToNumber(t)]=!0}},getTotalsWithinDate("Gold",n,a,o),getTotalsWithinDate("Silver",n,a,o),getTotalsWithinDate("Platinum",n,a,o),clearTimeout(tmp_timeout),tmp_timeout=setInterval(function(){metal_graphFlag[PLATINUM]&&metal_graphFlag[PLATINUM]&&metal_graphFlag[PLATINUM]&&(drawGraph(s),updateMonthlyValues(),clearTimeout(tmp_timeout))},500)}}):(metal_total_data[GOLD]=[],metal_prices[GOLD]=[],metal_total_data[SILVER]=[],metal_prices[SILVER]=[],metal_total_data[PLATINUM]=[],metal_prices[PLATINUM]=[],drawGraph(s))}function drawGraph(e){var t=window.location.pathname,n=t.split("/").pop(),i="rgba(255,255,255,0.6)",r="#fff",a="#fff",o=isLightTheme()?"rgba(0,0,0,0.15)":"rgba(104, 206, 222, 0.1)";if("home.html"==n){var s={labels:e,datasets:[{label:"Gold Total",fillColor:"rgba(255, 109, 103,"+.05*getMultiplier()+")",strokeColor:"#FF6D67",pointColor:"#FF6D67",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_total_data[GOLD]},{label:"Platinum Total",fillColor:"rgba(255, 168, 89,"+.05*getMultiplier()+")",strokeColor:"#FFA859",pointColor:"#FFA859",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_total_data[PLATINUM]},{label:"Silver Total",fillColor:"rgba(104, 206, 222,"+.05*getMultiplier()+")",strokeColor:"#F3FF88",pointColor:"#F3FF88",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_total_data[SILVER]},{label:"1oz Gold",fillColor:"rgba(159, 255, 152,"+.05*getMultiplier()+")",strokeColor:"#9FFF98",pointColor:"#9FFF98",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_prices[GOLD]},{label:"1oz Platinum",fillColor:"rgba(187, 245, 255,"+.05*getMultiplier()+")",strokeColor:"#BBF5FF",pointColor:"#BBF5FF",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_prices[PLATINUM]},{label:"1oz Silver",fillColor:"rgba(194, 159, 255,"+.05*getMultiplier()+")",strokeColor:"#C29FFF",pointColor:"#C29FFF",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_prices[SILVER]}]},l={scaleShowGridLines:!0,scaleGridLineColor:o,scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',responsive:!0,maintainAspectRatio:!1},c=document.getElementById("total-chart").getContext("2d");coinChart&&coinChart.destroy(),coinChart=new Chart(c).Line(s,l),coinChart.update()}else if("mymetal.html"==n){var u=metalStringToNumber(current_metal),s={labels:e,datasets:[{label:current_metal+" Total",fillColor:"rgba(255, 109, 103,"+.05*getMultiplier()+")",strokeColor:"#FF6D67",pointColor:"#FF6D67",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_total_data[u]},{label:"1oz "+current_metal,fillColor:"rgba(159, 255, 152,"+.05*getMultiplier()+")",strokeColor:"#9FFF98",pointColor:"#9FFF98",pointStrokeColor:i,pointHighlightFill:r,pointHighlightStroke:a,data:metal_prices[u]}]},l={scaleShowGridLines:!0,scaleGridLineColor:o,scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>',responsive:!0,maintainAspectRatio:!1},c=document.getElementById("total-chart").getContext("2d");coinChart&&coinChart.destroy(),coinChart=new Chart(c).Line(s,l),coinChart.update()}}function loadItemDetail(){var e=getItemDetailId(),t={done:function(e){displayItemDetail(e._serverData)}};getStackItem(e,t)}function getItemDetailId(){return location.search.split("id=")[1]}function displayItemDetail(e){var t=new Date(e.purchase_date),n=t.getMonth()+1+"-"+t.getDate()+"-"+t.getFullYear();document.getElementById("metalValue").innerHTML=e.metal,document.getElementById("typeValue").innerHTML=e.type._serverData.name,document.getElementById("purchaseDateValue").innerHTML=n,document.getElementById("quantityValue").innerHTML=e.qty,document.getElementById("premiumValue").innerHTML=e.premium,document.getElementById("unitPriceValue").innerHTML=e.unit_price,document.getElementById("percentValue").innerHTML=e.percent_au,document.getElementById("weightValue").innerHTML=e.weight,e.pic&&(document.getElementById("coin_img").style.background="url("+e.pic._url+") center no-repeat"),onAddStackItemUpdateTotal(),updateAddStackItemLabels(e.metal)}function deleteConfirmation(){var e=(getItemDetailId(),confirm("Are you sure you want to delete this item?"));return e}function loadMetalTypes(){var e={done:function(e){var t,n=document.getElementById("typeValue"),i=n.options;for(i.remove(0),t=0;t<e.length;t++){var r=document.createElement("option");r.value=e[t].id,r.innerHTML=e[t].getName(),metal_types.push(e[t]),i.add(r)}var a=document.createElement("option");a.value="New",a.innerHTML="Add new type",i.add(a)}};getStackTypes(e)}function uploadPic(){var e=document.getElementById("coinPhotoFileUpload");e.onchange=function(e){var t=e.target||window.event.srcElement,n=t.files;if(FileReader&&n&&n.length){var i=new FileReader;i.onload=function(){document.getElementById("fileUpload").style.background="url("+i.result+") no-repeat center"},i.readAsDataURL(n[0])}else console.log("FileReader not supported, preview cannot be shown!")};var t=document.getElementById("fileUpload");t.addEventListener("click",function(t){e.click()},!1)}function getMetalInformation(e){var t=getMetalBidAsk(e),n=t[0];metal_date[e]=n[0],metal_ask_price[e]=n[6].toFixed(2),metal_bid_price[e]=n[5].toFixed(2),metal_pct_chg[e]=(100*getMetalChange(t)).toFixed(2)}function getMetalChange(e){var t=e[0][6].toFixed(2),n=e[1][6].toFixed(2);return(t-n)/n}function getMetalBidAsk(e){var t=metal_bidask_url[e],n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),JSON.parse(n.response).data}function getBidAvg(e){var t,n=[],i=JSON.parse(e);for(t=0;t<(new Date).getMonth();t++)n.push(i.data[t][5].toFixed(2));for(t=0;t<7-(new Date).getMonth();t++)n.push(null);return n}function generateGoldHeader(){document.getElementById("goldHeader").innerHTML="Gold <small><i>Last updated "+metal_date[GOLD]+'</i></small><svg class="icon icon-play-arrow"><symbol id="icon-play-arrow1" viewBox="0 0 1024 1024"><title>play-arrow</title><path class="path1" d="M341.333 213.333v597.333l469.333-298.667z"></path></symbol><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-play-arrow1"></use></svg>'}function generateSilverHeader(){document.getElementById("silverHeader").innerHTML="Silver <small><i>Last updated "+metal_date[SILVER]+'</i></small><svg class="icon icon-play-arrow"><symbol id="icon-play-arrow1" viewBox="0 0 1024 1024"><title>play-arrow</title><path class="path1" d="M341.333 213.333v597.333l469.333-298.667z"></path></symbol><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-play-arrow1"></use></svg>'}function generatePlatHeader(){document.getElementById("platHeader").innerHTML="Platinum <small><i>Last updated "+metal_date[PLATINUM]+'</i></small><svg class="icon icon-play-arrow"><symbol id="icon-play-arrow1" viewBox="0 0 1024 1024"><title>play-arrow</title><path class="path1" d="M341.333 213.333v597.333l469.333-298.667z"></path></symbol><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-play-arrow1"></use></svg>'}function generateCurrentSpotHeader(e){document.getElementById("current-spot").innerHTML="Current Spot <small><i>Last updated "+metal_date[e]+"</i></small>"}function generatePlatStats(){var e=document.createElement("td");e.innerHTML=metal_ask_price[PLATINUM];var t=document.createElement("td");t.innerHTML=metal_bid_price[PLATINUM];var n=document.createElement("td");n.innerHTML=(parseFloat(metal_pct_chg[PLATINUM])>=0?"+":"")+metal_pct_chg[PLATINUM]+"%",n.className=parseFloat(metal_pct_chg[PLATINUM])>=0?"pos-change":"neg-change";var i=document.createElement("tr");i.appendChild(e),i.appendChild(t),i.appendChild(n);var r=document.getElementById("platData");r.insertBefore(i,r.firstChild)}function generateMetalStats(e){var t=document.createElement("td");t.innerHTML=metal_ask_price[e];var n=document.createElement("td");n.innerHTML=metal_bid_price[e];var i=document.createElement("td");i.innerHTML=(parseFloat(metal_pct_chg[e])>=0?"+":"")+metal_pct_chg[e]+"%",i.className=parseFloat(metal_pct_chg[e])>=0?"pos-change":"neg-change";var r=document.createElement("tr");r.appendChild(n),r.appendChild(t),r.appendChild(i);var a=document.getElementById("metalData");a.insertBefore(r,a.firstChild)}function generateGoldStats(){var e=document.createElement("td");e.innerHTML=metal_ask_price[GOLD];var t=document.createElement("td");t.innerHTML=metal_bid_price[GOLD];var n=document.createElement("td");n.innerHTML=(parseFloat(metal_pct_chg[GOLD])>=0?"+":"")+metal_pct_chg[GOLD]+"%",n.className=parseFloat(metal_pct_chg[GOLD])>=0?"pos-change":"neg-change";var i=document.createElement("tr");i.appendChild(e),i.appendChild(t),i.appendChild(n);var r=document.getElementById("goldData");r.insertBefore(i,r.firstChild)}function generateSilverStats(){var e=document.createElement("td");e.innerHTML=metal_ask_price[SILVER];var t=document.createElement("td");t.innerHTML=metal_bid_price[SILVER];var n=document.createElement("td");n.innerHTML=(parseFloat(metal_pct_chg[SILVER])>=0?"+":"")+metal_pct_chg[SILVER]+"%",n.className=parseFloat(metal_pct_chg[SILVER])>=0?"pos-change":"neg-change";var i=document.createElement("tr");i.appendChild(e),i.appendChild(t),i.appendChild(n);var r=document.getElementById("silverData");r.insertBefore(i,r.firstChild)}function metalNumberToString(e){return e==GOLD?"Gold":e==SILVER?"Silver":"Platinum"}function getUserMetalTotal(e){var t={done:function(e){var t,n=0;for(n=0;n<e.length;n++){t=e[n]._serverData;var i=t.qty*(t.premium+t.unit_price);"Gold"==t.metal?metal_totals[GOLD]+=i:"Silver"==t.metal?metal_totals[SILVER]+=i:"Platinum"==t.metal&&(metal_totals[PLATINUM]+=i);

}displayTotalCoinValue(current_metal)}};viewStackItems(t)}function displayTotalCoinValue(e){var t;t=e?"gold"==e.toLowerCase()?metal_totals[GOLD]:"silver"==e.toLowerCase()?metal_totals[SILVER]:metal_totals[PLATINUM]:metal_totals[GOLD]+metal_totals[SILVER]+metal_totals[PLATINUM],document.getElementById("totalCoinValue").innerHTML="$"+t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}function getStackTypes(e){var t=new Parse.Query(StackType);t.find({success:function(t){console.log("Successfully retrieved "+t.length+" items"),e.done(t)},error:function(e){console.log("Failed to retrieve totals, with error code: "+e.message)}})}function createStackType(e,t,n,i){var r=new StackType;r.setName(t),r.setPercentMetal(n),r.setWeight(i),r.save(null,{success:function(t){console.log("Successfully created new StackItem: "+t.id),e&&e.done&&e.done(t)},error:function(e,t){console.log("Failed to create new StackItem, with error code: "+t.message)}})}function getTotalsWithinDate(e,t,n,i){var r=Parse.User.current(),a=new Parse.Query(StackTotal);a.equalTo("metal",e),a.equalTo("owner",r),a.lessThan("createdAt",i),a.greaterThan("createdAt",n),a.ascending("createdAt"),a.find({success:function(n){console.log("Successfully retrieved "+n.length+" totals");for(var i=[],r=0;r<n.length;r++){var a=n[r],o={date:a.createdAt,val:a.getTotal().toFixed(2)};i.push(o)}t.done(i,e)},error:function(e){console.log("Failed to retrieve totals, with error code: "+e.message)}})}function getTotals(e,t){var n=Parse.User.current(),i=new Parse.Query(StackTotal);i.equalTo("metal",e),i.equalTo("owner",n),i.find({success:function(e){console.log("Successfully retrieved "+e.length+" totals");for(var n=[],i=0;i<e.length;i++){var r=e[i],a={date:r.createdAt,val:r.getTotal()};n.push(a)}t.done(n)},error:function(e){console.log("Failed to retrieve totals, with error code: "+e.message)}})}function addTotal(e,t,n){var i=Parse.User.current(),r=new StackTotal;r.setOwner(i),r.setMetal(e),r.setCurrent(!0);var a=new Parse.Query(StackTotal);a.equalTo("metal",e),a.equalTo("current",!0),a.equalTo("owner",i),a.first({success:function(e){"undefined"==typeof e?(r.setTotal(t),r.save(null,{success:function(e){n.done(e)},error:function(e){console.log(e.message)}})):(console.log("Successfully got previous total, with id: "+e.id),e.setCurrent(!1),e.save(null,{success:function(e){var i=e.getTotal(),a=i+t;r.setTotal(a),r.save({success:function(e){n.done(e)},error:function(e){console.log(e.message)}})},error:function(e){console.log(e.message)}}))},error:function(e){console.log("Failed to get previous total, with error code: "+e.message)}})}function calcVal(e,t,n){return e*(t+n)}function createStackItem(e,t,n,i,r,a,o,s,l){var c=Parse.User.current(),u=c.relation("stack_items"),h=new StackItem;h.setMetal(t),h.setType(n),h.setPurchaseDate(i),h.setQty(parseInt(r)),h.setPremium(parseFloat(a)),h.setUnitPrice(parseFloat(o)),h.setPercentAu(parseFloat(s)),h.setWeight(parseFloat(l));var d=calcVal(parseInt(r),parseFloat(a),parseFloat(o)),f={done:function(){h.save(null,{success:function(t){u.add(t),c.save(null,{success:function(t){console.log("Successfully created new StackItem: "+t.id),e.done(t)},error:function(e){console.log("Error:"+e.message)}})},error:function(e,t){console.log("Failed to create new StackItem, with error code: "+t.message)}})}};addTotal(t,d,f)}function viewStackItems(e){var t=Parse.User.current(),n=t.relation("stack_items");n.query().include("type").find({success:function(t){console.log("Successfully retrieved StackItems"),e.done(t)},error:function(e){console.log("Failed to retrieve StackItems, with error code: "+e.message)}})}function getStackItem(e,t){var n=Parse.User.current(),i=n.relation("stack_items");i.query().include("type").get(e,{success:function(e){console.log("Successfully retrieved StackItems"),t.done(e)},error:function(e){console.log("Failed to retrieve StackItems, with error code: "+e.message)}})}function viewStackItemsWithMetalType(e,t){var n=Parse.User.current(),i=n.relation("stack_items");i.query().equalTo("metal",t).include("type").find({success:function(t){console.log("Successfully retrieved StackItems"),e.done(t)},error:function(e){console.log("Failed to retrieve StackItems, with error code: "+e.message)}})}function updateStackItem(e,t,n,i,r,a,o,s,l){getStackItem(e,{done:function(e){var c=calcVal(e.getQty(),e.getPremium(),e.getUnitPrice()),u=calcVal(parseInt(r),parseFloat(a),parseFloat(o)),h=u-c;e.setMetal(t),e.setType(n),e.setPurchaseDate(i),e.setQty(parseInt(r)),e.setPremium(parseFloat(a)),e.setUnitPrice(parseFloat(o)),e.setPercentAu(parseFloat(s)),e.setWeight(parseFloat(l));var d={done:function(){e.save(null,{success:function(e){console.log("StackItem updated with id: "+e.id)},error:function(e,t){console.log("Failed to update StackItem, with error code: "+t.message)}})}};addTotal(t,h,d)}})}function deleteStackItem(e,t){var n=!1;return getStackItem(e,{done:function(e){var i=calcVal(e.getQty(),e.getPremium(),e.getUnitPrice()),r=-1*i,a={done:function(){e.destroy({success:function(e){n=!0,console.log("StackItem with id "+e.id+" was successfully deleted."),t.done(e)},error:function(e,t){console.log("Failed to delete StackItem, with error code: "+t.message)}})}};addTotal(e.getMetal(),r,a)}}),n}function setPicture(e,t,n){var i=new Parse.File("coin_photo.jpg",t);i.save().then(function(){console.log("Successfully saved file"),e.setPic(i),e.save().then(function(){n.done()})})}function initializeParse(){Parse.initialize("voegPLFhf3W3RI7jHxjFTbcKLMES65BurXu6RWXT","yGs1GUDM7Kb3BghCXWbeHK2bEH760kNgwZwm6Lvv")}!function(e){e.Parse=e.Parse||{},e.Parse.VERSION="js1.4.2"}(this),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,a=Function.prototype,o=i.push,s=i.slice,l=i.concat,c=r.toString,u=r.hasOwnProperty,h=i.forEach,d=i.map,f=i.reduce,p=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,_=Array.isArray,w=Object.keys,x=a.bind,S=function(e){return e instanceof S?e:this instanceof S?void(this._wrapped=e):new S(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=S),exports._=S):e._=S,S.VERSION="1.4.4";var C=S.each=S.forEach=function(e,t,i){if(null!=e)if(h&&e.forEach===h)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var o in e)if(S.has(e,o)&&t.call(i,e[o],o,e)===n)return};S.map=S.collect=function(e,t,n){var i=[];return null==e?i:d&&e.map===d?e.map(t,n):(C(e,function(e,r,a){i[i.length]=t.call(n,e,r,a)}),i)};var T="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return i&&(t=S.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(C(e,function(e,a,o){r?n=t.call(i,n,e,a,o):(n=e,r=!0)}),!r)throw new TypeError(T);return n},S.reduceRight=S.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduceRight===p)return i&&(t=S.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=S.keys(e);a=o.length}if(C(e,function(s,l,c){l=o?o[--a]:--a,r?n=t.call(i,n,e[l],l,c):(n=e[l],r=!0)}),!r)throw new TypeError(T);return n},S.find=S.detect=function(e,t,n){var i;return E(e,function(e,r,a){return t.call(n,e,r,a)?(i=e,!0):void 0}),i},S.filter=S.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(C(e,function(e,r,a){t.call(n,e,r,a)&&(i[i.length]=e)}),i)},S.reject=function(e,t,n){return S.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},S.every=S.all=function(e,t,i){t||(t=S.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(C(e,function(e,a,o){return(r=r&&t.call(i,e,a,o))?void 0:n}),!!r)};var E=S.some=S.any=function(e,t,i){t||(t=S.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(C(e,function(e,a,o){return r||(r=t.call(i,e,a,o))?n:void 0}),!!r)};S.contains=S.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):E(e,function(e){return e===t})},S.invoke=function(e,t){var n=s.call(arguments,2),i=S.isFunction(t);return S.map(e,function(e){return(i?t:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.where=function(e,t,n){return S.isEmpty(t)?n?null:[]:S[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},S.findWhere=function(e,t){return S.where(e,t,!0)},S.max=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-(1/0);var i={computed:-(1/0),value:-(1/0)};return C(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o>=i.computed&&(i={value:e,computed:o})}),i.value},S.min=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return C(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o<i.computed&&(i={value:e,computed:o})}),i.value},S.shuffle=function(e){var t,n=0,i=[];return C(e,function(e){t=S.random(n++),i[n-1]=i[t],i[t]=e}),i};var P=function(e){return S.isFunction(e)?e:function(t){return t[e]}};S.sortBy=function(e,t,n){var i=P(t);return S.pluck(S.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var k=function(e,t,n,i){var r={},a=P(t||S.identity);return C(e,function(t,o){var s=a.call(n,t,o,e);i(r,s,t)}),r};S.groupBy=function(e,t,n){return k(e,t,n,function(e,t,n){(S.has(e,t)?e[t]:e[t]=[]).push(n)})},S.countBy=function(e,t,n){return k(e,t,n,function(e,t){S.has(e,t)||(e[t]=0),e[t]++})},S.sortedIndex=function(e,t,n,i){n=null==n?S.identity:P(n);for(var r=n.call(i,t),a=0,o=e.length;o>a;){var s=a+o>>>1;n.call(i,e[s])<r?a=s+1:o=s}return a},S.toArray=function(e){return e?S.isArray(e)?s.call(e):e.length===+e.length?S.map(e,S.identity):S.values(e):[]},S.size=function(e){return null==e?0:e.length===+e.length?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},S.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},S.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},S.rest=S.tail=S.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},S.compact=function(e){return S.filter(e,S.identity)};var A=function(e,t,n){return C(e,function(e){S.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};S.flatten=function(e,t){return A(e,t,[])},S.without=function(e){return S.difference(e,s.call(arguments,1))},S.uniq=S.unique=function(e,t,n,i){S.isFunction(t)&&(i=n,n=t,t=!1);var r=n?S.map(e,n,i):e,a=[],o=[];return C(r,function(n,i){(t?i&&o[o.length-1]===n:S.contains(o,n))||(o.push(n),a.push(e[i]))}),a},S.union=function(){return S.uniq(l.apply(i,arguments))},S.intersection=function(e){var t=s.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e){var t=l.apply(i,s.call(arguments,1));return S.filter(e,function(e){return!S.contains(t,e)})},S.zip=function(){for(var e=s.call(arguments),t=S.max(S.pluck(e,"length")),n=new Array(t),i=0;t>i;i++)n[i]=S.pluck(e,""+i);return n},S.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},S.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=S.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},S.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},S.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,a=new Array(i);i>r;)a[r++]=e,e+=n;return a},S.bind=function(e,t){if(e.bind===x&&x)return x.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},S.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},S.bindAll=function(e){var t=s.call(arguments,1);return 0===t.length&&(t=S.functions(e)),C(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var n={};return t||(t=S.identity),function(){var i=t.apply(this,arguments);return S.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},S.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(s.call(arguments,1)))},S.throttle=function(e,t){var n,i,r,a,o=0,s=function(){o=new Date,r=null,a=e.apply(n,i)};return function(){var l=new Date,c=t-(l-o);return n=this,i=arguments,0>=c?(clearTimeout(r),r=null,o=l,a=e.apply(n,i)):r||(r=setTimeout(s,c)),a}},S.debounce=function(e,t,n){var i,r;return function(){var a=this,o=arguments,s=function(){i=null,n||(r=e.apply(a,o))},l=n&&!i;return clearTimeout(i),i=setTimeout(s,t),l&&(r=e.apply(a,o)),r}},S.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},S.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},S.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},S.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},S.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)S.has(e,n)&&(t[t.length]=n);return t},S.values=function(e){var t=[];for(var n in e)S.has(e,n)&&t.push(e[n]);return t},S.pairs=function(e){var t=[];for(var n in e)S.has(e,n)&&t.push([n,e[n]]);return t},S.invert=function(e){var t={};for(var n in e)S.has(e,n)&&(t[e[n]]=n);return t},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(e){return C(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},S.pick=function(e){var t={},n=l.apply(i,s.call(arguments,1));return C(n,function(n){n in e&&(t[n]=e[n])}),t},S.omit=function(e){var t={},n=l.apply(i,s.call(arguments,1));for(var r in e)S.contains(n,r)||(t[r]=e[r]);return t},S.defaults=function(e){return C(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e};var L=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof S&&(e=e._wrapped),t instanceof S&&(t=t._wrapped);var r=c.call(e);if(r!=c.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return i[a]==t;n.push(e),i.push(t);var o=0,s=!0;if("[object Array]"==r){if(o=e.length,s=o==t.length)for(;o--&&(s=L(e[o],t[o],n,i)););}else{var l=e.constructor,u=t.constructor;if(l!==u&&!(S.isFunction(l)&&l instanceof l&&S.isFunction(u)&&u instanceof u))return!1;for(var h in e)if(S.has(e,h)&&(o++,!(s=S.has(t,h)&&L(e[h],t[h],n,i))))break;if(s){for(h in t)if(S.has(t,h)&&!o--)break;s=!o}}return n.pop(),i.pop(),s};S.isEqual=function(e,t){return L(e,t,[],[])},S.isEmpty=function(e){if(null==e)return!0;if(S.isArray(e)||S.isString(e))return 0===e.length;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!(!e||1!==e.nodeType)},S.isArray=_||function(e){return"[object Array]"==c.call(e)},S.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){S["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),S.isArguments(arguments)||(S.isArguments=function(e){return!(!e||!S.has(e,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(e){return"function"==typeof e}),S.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},S.isNaN=function(e){return S.isNumber(e)&&e!=+e},S.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},S.isNull=function(e){return null===e},S.isUndefined=function(e){return void 0===e},S.has=function(e,t){return u.call(e,t)},S.noConflict=function(){return e._=t,this},S.identity=function(e){return e},S.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},S.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=S.invert(N.escape);var O={escape:new RegExp("["+S.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(N.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(e){S[e]=function(t){return null==t?"":(""+t).replace(O[e],function(t){return N[e][t]})}}),S.result=function(e,t){if(null==e)return null;var n=e[t];return S.isFunction(n)?n.call(e):n},S.mixin=function(e){C(S.functions(e),function(t){var n=S[t]=e[t];S.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(S,e))}})};var I=0;S.uniqueId=function(e){var t=++I+"";return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(e,t,n){var i;n=S.defaults({},n,S.templateSettings);var r=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(r,function(t,n,i,r,s){return o+=e.slice(a,s).replace(M,function(e){return"\\"+F[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(o+="';\n"+r+"\n__p+='"),a=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return i(t,S);var l=function(e){return i.call(this,e,S)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},S.chain=function(e){return S(e).chain()};var j=function(e){return this._chain?S(e).chain():e};S.mixin(S),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];S.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],j.call(this,n)}}),C(["concat","join","slice"],function(e){var t=i[e];S.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n="function"==typeof require?require:null;"undefined"!=typeof XMLHttpRequest?t.XMLHttpRequest=XMLHttpRequest:"function"==typeof require&&"undefined"==typeof require.ensure&&(t.XMLHttpRequest=n("xmlhttprequest").XMLHttpRequest),"undefined"!=typeof exports&&exports._?(t._=exports._.noConflict(),exports.Parse=t):t._=_.noConflict(),"undefined"!=typeof $&&(t.$=$);var i=function(){},r=function(e,n,r){var a;return a=n&&n.hasOwnProperty("constructor")?n.constructor:function(){e.apply(this,arguments)},t._.extend(a,e),i.prototype=e.prototype,a.prototype=new i,n&&t._.extend(a.prototype,n),r&&t._.extend(a,r),a.prototype.constructor=a,a.__super__=e.prototype,a};t.serverURL="https://api.parse.com","undefined"!=typeof process&&process.versions&&process.versions.node&&(t._isNode=!0),t.initialize=function(e,n,i){if(i)throw"Parse.initialize() was passed a Master Key, which is only allowed from within Node.js.";t._initialize(e,n)},t._initialize=function(e,n,i){t.applicationId=e,t.javaScriptKey=n,t.masterKey=i,t._useMasterKey=!1},t._isNode&&(t.initialize=t._initialize,t.Cloud=t.Cloud||{},t.Cloud.useMasterKey=function(){t._useMasterKey=!0}),t._getParsePath=function(e){if(!t.applicationId)throw"You need to call Parse.initialize before using Parse.";if(e||(e=""),!t._.isString(e))throw"Tried to get a Storage path that wasn't a String.";return"/"===e[0]&&(e=e.substring(1)),"Parse/"+t.applicationId+"/"+e},t._installationId=null,t._getInstallationId=function(){if(t._installationId)return t.Promise.as(t._installationId);var e=t._getParsePath("installationId");return t.Storage.getItemAsync(e).then(function(n){if(t._installationId=n,!t._installationId||""===t._installationId){var i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t._installationId=i()+i()+"-"+i()+"-"+i()+"-"+i()+"-"+i()+i()+i(),t.Storage.setItemAsync(e,t._installationId)}return t.Promise.as(t._installationId)})},t._parseDate=function(e){var t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),n=t.exec(e);if(!n)return null;var i=n[1]||0,r=(n[2]||1)-1,a=n[3]||0,o=n[4]||0,s=n[5]||0,l=n[6]||0,c=n[8]||0;return new Date(Date.UTC(i,r,a,o,s,l,c))},t._ajaxIE8=function(e,n,i){var r=new t.Promise,a=new XDomainRequest;return a.onload=function(){var e;try{e=JSON.parse(a.responseText)}catch(t){r.reject(t)}e&&r.resolve(e)},a.onerror=a.ontimeout=function(){var e={responseText:JSON.stringify({code:t.Error.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};r.reject(e)},a.onprogress=function(){},a.open(e,n),a.send(i),r},t._useXDomainRequest=function(){return"undefined"!=typeof XDomainRequest?"withCredentials"in new XMLHttpRequest?!1:!0:!1},t._ajax=function(e,n,i,r,a){var o={success:r,error:a};if(t._useXDomainRequest())return t._ajaxIE8(e,n,i)._thenRunCallbacks(o);var s=new t.Promise,l=0,c=function(){var r=!1,a=new t.XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState){if(r)return;if(r=!0,a.status>=200&&a.status<300){var e;try{e=JSON.parse(a.responseText)}catch(t){s.reject(t)}e&&s.resolve(e,a.status,a)}else if(a.status>=500)if(++l<5){var n=Math.round(125*Math.random()*Math.pow(2,l));setTimeout(c,n)}else s.reject(a);else s.reject(a)}},a.open(e,n,!0),a.setRequestHeader("Content-Type","text/plain"),t._isNode&&a.setRequestHeader("User-Agent","Parse/"+t.VERSION+" (NodeJS "+process.versions.node+")"),a.send(i)};return c(),s._thenRunCallbacks(o)},t._extend=function(e,t){var n=r(this,e,t);return n.extend=this.extend,n},t._request=function(e){var n=e.route,i=e.className,r=e.objectId,a=e.method,o=e.useMasterKey,s=e.sessionToken,l=e.data;if(!t.applicationId)throw"You must specify your applicationId using Parse.initialize.";if(!t.javaScriptKey&&!t.masterKey)throw"You must specify a key using Parse.initialize.";if("batch"!==n&&"classes"!==n&&"events"!==n&&"files"!==n&&"functions"!==n&&"login"!==n&&"logout"!==n&&"push"!==n&&"requestPasswordReset"!==n&&"rest_verify_analytics"!==n&&"users"!==n&&"jobs"!==n&&"config"!==n&&"sessions"!==n&&"upgradeToRevocableSession"!==n)throw"Bad route: '"+n+"'.";var c=t.serverURL;return"/"!==c.charAt(c.length-1)&&(c+="/"),c+="1/"+n,i&&(c+="/"+i),r&&(c+="/"+r),l=t._.clone(l||{}),"POST"!==a&&(l._method=a,a="POST"),t._.isUndefined(o)&&(o=t._useMasterKey),l._ApplicationId=t.applicationId,o?l._MasterKey=t.masterKey:l._JavaScriptKey=t.javaScriptKey,l._ClientVersion=t.VERSION,t._getInstallationId().then(function(e){return l._InstallationId=e,s?t.Promise.as({_sessionToken:s}):t.User._currentAsync()}).then(function(e){e&&e._sessionToken&&(l._SessionToken=e._sessionToken),t.User._isRevocableSessionEnabled&&(l._RevocableSession="1");var n=JSON.stringify(l);return t._ajax(a,c,n)}).then(null,function(e){var n;if(e&&e.responseText)try{var i=JSON.parse(e.responseText);n=new t.Error(i.code,i.error)}catch(r){n=new t.Error(t.Error.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else n=new t.Error(t.Error.CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(e));return t.Promise.error(n)})},t._getValue=function(e,n){return e&&e[n]?t._.isFunction(e[n])?e[n]():e[n]:null},t._encode=function(e,n,i){var r=t._;if(e instanceof t.Object){if(i)throw"Parse.Objects not allowed here";if(!n||r.include(n,e)||!e._hasData)return e._toPointer();if(!e.dirty())return n=n.concat(e),t._encode(e._toFullJSON(n),n,i);throw"Tried to save an object with a pointer to a new, unsaved object."}if(e instanceof t.ACL)return e.toJSON();if(r.isDate(e))return{__type:"Date",iso:e.toJSON()};if(e instanceof t.GeoPoint)return e.toJSON();if(r.isArray(e))return r.map(e,function(e){return t._encode(e,n,i)});if(r.isRegExp(e))return e.source;if(e instanceof t.Relation)return e.toJSON();if(e instanceof t.Op)return e.toJSON();if(e instanceof t.File){if(!e.url())throw"Tried to save an object containing an unsaved file.";return{__type:"File",name:e.name(),url:e.url()}}if(r.isObject(e)){var a={};return t._objectEach(e,function(e,r){a[r]=t._encode(e,n,i)}),a}return e},t._decode=function(e,n){var i=t._;if(!i.isObject(n))return n;if(i.isArray(n))return t._arrayEach(n,function(e,i){n[i]=t._decode(i,e)}),n;if(n instanceof t.Object)return n;if(n instanceof t.File)return n;if(n instanceof t.Op)return n;if(n.__op)return t.Op._decode(n);if("Pointer"===n.__type&&n.className){var r=t.Object._create(n.className);return r._finishFetch({objectId:n.objectId},!1),r}if("Object"===n.__type&&n.className){var a=n.className;delete n.__type,delete n.className;var o=t.Object._create(a);return o._finishFetch(n,!0),o}if("Date"===n.__type)return t._parseDate(n.iso);if("GeoPoint"===n.__type)return new t.GeoPoint({latitude:n.latitude,longitude:n.longitude});if("ACL"===e)return n instanceof t.ACL?n:new t.ACL(n);if("Relation"===n.__type){var s=new t.Relation(null,e);return s.targetClassName=n.className,s}if("File"===n.__type){var l=new t.File(n.name);return l._url=n.url,l}return t._objectEach(n,function(e,i){n[i]=t._decode(i,e)}),n},t._arrayEach=t._.each,t._traverse=function(e,n,i){if(e instanceof t.Object){if(i=i||[],t._.indexOf(i,e)>=0)return;return i.push(e),t._traverse(e.attributes,n,i),n(e)}return e instanceof t.Relation||e instanceof t.File?n(e):t._.isArray(e)?(t._.each(e,function(r,a){var o=t._traverse(r,n,i);o&&(e[a]=o)}),n(e)):t._.isObject(e)?(t._each(e,function(r,a){var o=t._traverse(r,n,i);o&&(e[a]=o)}),n(e)):n(e)},t._objectEach=t._each=function(e,n){var i=t._;i.isObject(e)?i.each(i.keys(e),function(t){n(e[t],t)}):i.each(e,n)},t._isNullOrUndefined=function(e){return t._.isNull(e)||t._.isUndefined(e)}}(this),function(root){root.Parse=root.Parse||{};var Parse=root.Parse,Storage={async:!1},hasLocalStorage="undefined"!=typeof localStorage;if(hasLocalStorage)try{localStorage.setItem("supported",!0),localStorage.removeItem("supported")}catch(e){hasLocalStorage=!1}if(hasLocalStorage)Storage.getItem=function(e){return localStorage.getItem(e)},Storage.setItem=function(e,t){return localStorage.setItem(e,t)},Storage.removeItem=function(e){return localStorage.removeItem(e)},Storage.clear=function(){return localStorage.clear()};else if("function"==typeof require){var AsyncStorage;try{AsyncStorage=eval("require('AsyncStorage')"),Storage.async=!0,Storage.getItemAsync=function(e){var t=new Parse.Promise;return AsyncStorage.getItem(e,function(e,n){e?t.reject(e):t.resolve(n)}),t},Storage.setItemAsync=function(e,t){var n=new Parse.Promise;return AsyncStorage.setItem(e,t,function(e){e?n.reject(e):n.resolve(t)}),n},Storage.removeItemAsync=function(e){var t=new Parse.Promise;return AsyncStorage.removeItem(e,function(e){e?t.reject(e):t.resolve()}),t},Storage.clear=function(){AsyncStorage.clear()}}catch(e){}}if(!Storage.async&&!Storage.getItem){var memMap=Storage.inMemoryMap={};Storage.getItem=function(e){return memMap.hasOwnProperty(e)?memMap[e]:null},Storage.setItem=function(e,t){memMap[e]=String(t)},Storage.removeItem=function(e){delete memMap[e]},Storage.clear=function(){for(var e in memMap)memMap.hasOwnProperty(e)&&delete memMap[e]}}Storage.async||(Storage.getItemAsync=function(e){return Parse.Promise.as(Storage.getItem(e))},Storage.setItemAsync=function(e,t){return Storage.setItem(e,t),Parse.Promise.as(t)},Storage.removeItemAsync=function(e){return Parse.Promise.as(Storage.removeItem(e))}),Parse.Storage=Storage}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Analytics=t.Analytics||{},n.extend(t.Analytics,{track:function(e,i,r){if(e=e||"",e=e.replace(/^\s*/,""),e=e.replace(/\s*$/,""),0===e.length)throw"A name for the custom event must be provided";return n.each(i,function(e,t){if(!n.isString(t)||!n.isString(e))throw'track() dimensions expects keys and values of type "string".'}),r=r||{},t._request({route:"events",className:e,method:"POST",data:{dimensions:i}})._thenRunCallbacks(r)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Config=function(){this.attributes={},this._escapedAttributes={}},t.Config.current=function(){if(t.Config._currentConfig)return t.Config._currentConfig;var e=new t.Config;if(t.Storage.async)return e;var n=t.Storage.getItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY));return n&&(e._finishFetch(JSON.parse(n)),t.Config._currentConfig=e),e},t.Config.get=function(e){e=e||{};var n=t._request({route:"config",method:"GET"});return n.then(function(e){if(!e||!e.params){var n=new t.Error(t.Error.INVALID_JSON,"Config JSON response invalid.");return t.Promise.error(n)}var i=new t.Config;return i._finishFetch(e),t.Config._currentConfig=i,i})._thenRunCallbacks(e)},t.Config.prototype={escape:function(e){var i=this._escapedAttributes[e];if(i)return i;var r,a=this.attributes[e];return r=t._isNullOrUndefined(a)?"":n.escape(a.toString()),this._escapedAttributes[e]=r,r},get:function(e){return this.attributes[e]},_finishFetch:function(e){this.attributes=t._decode(null,n.clone(e.params)),t.Storage.async||t.Storage.setItem(t._getParsePath(t.Config._CURRENT_CONFIG_KEY),JSON.stringify(e))}},t.Config._currentConfig=null,t.Config._CURRENT_CONFIG_KEY="currentConfig"}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Error=function(e,t){this.code=e,this.message=t},n.extend(t.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,FILE_DELETE_ERROR:153,REQUEST_LIMIT_EXCEEDED:155,INVALID_EVENT_NAME:160,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,INVALID_SESSION_TOKEN:209,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,AGGREGATE_ERROR:600,FILE_READ_ERROR:601,X_DOMAIN_REQUEST:602})}(this),function(){var e=this,t=e.Parse||(e.Parse={}),n=/\s+/,i=Array.prototype.slice;t.Events={on:function(e,t,i){var r,a,o,s,l;if(!t)return this;for(e=e.split(n),r=this._callbacks||(this._callbacks={}),a=e.shift();a;)l=r[a],o=l?l.tail:{},o.next=s={},o.context=i,o.callback=t,r[a]={tail:s,next:l?l.next:o},a=e.shift();return this},off:function(e,t,i){var r,a,o,s,l,c;if(a=this._callbacks){if(!(e||t||i))return delete this._callbacks,this;for(e=e?e.split(n):Object.keys(a),r=e.shift();r;)if(o=a[r],delete a[r],o&&(t||i)){for(s=o.tail,o=o.next;o!==s;)l=o.callback,
c=o.context,(t&&l!==t||i&&c!==i)&&this.on(r,l,c),o=o.next;r=e.shift()}else r=e.shift();return this}},trigger:function(e){var t,r,a,o,s,l,c;if(!(a=this._callbacks))return this;for(l=a.all,e=e.split(n),c=i.call(arguments,1),t=e.shift();t;){if(r=a[t])for(o=r.tail;(r=r.next)!==o;)r.callback.apply(r.context||this,c);if(r=l)for(o=r.tail,s=[t].concat(c);(r=r.next)!==o;)r.callback.apply(r.context||this,s);t=e.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}.call(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.GeoPoint=function(e,i){n.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):n.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):n.isNumber(e)&&n.isNumber(i)?(t.GeoPoint._validate(e,i),this.latitude=e,this.longitude=i):(this.latitude=0,this.longitude=0);var r=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return r._latitude}),this.__defineGetter__("longitude",function(){return r._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,r.longitude),r._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(r.latitude,e),r._longitude=e}))},t.GeoPoint._validate=function(e,t){if(-90>e)throw"Parse.GeoPoint latitude "+e+" < -90.0.";if(e>90)throw"Parse.GeoPoint latitude "+e+" > 90.0.";if(-180>t)throw"Parse.GeoPoint longitude "+t+" < -180.0.";if(t>180)throw"Parse.GeoPoint longitude "+t+" > 180.0."},t.GeoPoint.current=function(e){var n=new t.Promise;return navigator.geolocation.getCurrentPosition(function(e){n.resolve(new t.GeoPoint({latitude:e.coords.latitude,longitude:e.coords.longitude}))},function(e){n.reject(e)}),n._thenRunCallbacks(e)},t.GeoPoint.prototype={toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var t=Math.PI/180,n=this.latitude*t,i=this.longitude*t,r=e.latitude*t,a=e.longitude*t,o=n-r,s=i-a,l=Math.sin(o/2),c=Math.sin(s/2),u=l*l+Math.cos(n)*Math.cos(r)*c*c;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))},kilometersTo:function(e){return 6371*this.radiansTo(e)},milesTo:function(e){return 3958.8*this.radiansTo(e)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,i="*";t.ACL=function(e){var i=this;if(i.permissionsById={},n.isObject(e))if(e instanceof t.User)i.setReadAccess(e,!0),i.setWriteAccess(e,!0);else{if(n.isFunction(e))throw"Parse.ACL() called with a function.  Did you forget ()?";t._objectEach(e,function(e,r){if(!n.isString(r))throw"Tried to create an ACL with an invalid userId.";i.permissionsById[r]={},t._objectEach(e,function(e,t){if("read"!==t&&"write"!==t)throw"Tried to create an ACL with an invalid permission type.";if(!n.isBoolean(e))throw"Tried to create an ACL with an invalid permission value.";i.permissionsById[r][t]=e})})}},t.ACL.prototype.toJSON=function(){return n.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,i,r){if(i instanceof t.User?i=i.id:i instanceof t.Role&&(i="role:"+i.getName()),!n.isString(i))throw"userId must be a string.";if(!n.isBoolean(r))throw"allowed must be either true or false.";var a=this.permissionsById[i];if(!a){if(!r)return;a={},this.permissionsById[i]=a}r?this.permissionsById[i][e]=!0:(delete a[e],n.isEmpty(a)&&delete a[i])},t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var i=this.permissionsById[n];return i&&i[e]?!0:!1},t.ACL.prototype.setReadAccess=function(e,t){this._setAccess("read",e,t)},t.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)},t.ACL.prototype.setWriteAccess=function(e,t){this._setAccess("write",e,t)},t.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)},t.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess(i,e)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(i)},t.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess(i,e)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(i)},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getReadAccess("role:"+e);throw"role must be a Parse.Role or a String"},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return this.getWriteAccess("role:"+e);throw"role must be a Parse.Role or a String"},t.ACL.prototype.setRoleReadAccess=function(e,i){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return void this.setReadAccess("role:"+e,i);throw"role must be a Parse.Role or a String"},t.ACL.prototype.setRoleWriteAccess=function(e,i){if(e instanceof t.Role&&(e=e.getName()),n.isString(e))return void this.setWriteAccess("role:"+e,i);throw"role must be a Parse.Role or a String"}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Op=function(){this._initialize.apply(this,arguments)},t.Op.prototype={_initialize:function(){}},n.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var n=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),n=e._mergeWithPrevious(n)}),n}),t.Op.Set=t.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw"Op is invalid after previous op."}return this},_estimate:function(e){return e?e+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.Add=t.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){return e?e.concat(this.objects()):n.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(void 0,e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var i=n.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var r=n.find(i,function(n){return n instanceof t.Object&&n.id===e.id});if(r){var a=n.indexOf(i,r);i[a]=e}else i.push(e)}else n.contains(i,e)||i.push(e)}),i}return n.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(void 0,e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(n.union(e.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var i=n.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(i=n.reject(i,function(n){return n instanceof t.Object&&n.id===e.id}))}),i}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(void 0,e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,i){this._targetClassName=null;var r=this,a=function(e){if(e instanceof t.Object){if(!e.id)throw"You can't add an unsaved Parse.Object to a relation.";if(r._targetClassName||(r._targetClassName=e.className),r._targetClassName!==e.className)throw"Tried to create a Parse.Relation with 2 different types: "+r._targetClassName+" and "+e.className+".";return e.id}return e};this.relationsToAdd=n.uniq(n.map(e,a)),this.relationsToRemove=n.uniq(n.map(i,a))},added:function(){var e=this;return n.map(this.relationsToAdd,function(n){var i=t.Object._create(e._targetClassName);return i.id=n,i})},removed:function(){var e=this;return n.map(this.relationsToRemove,function(n){var i=t.Object._create(e._targetClassName);return i.id=n,i})},toJSON:function(){var e=null,t=null,i=this,r=function(e){return{__type:"Pointer",className:i._targetClassName,objectId:e}},a=null;return this.relationsToAdd.length>0&&(a=n.map(this.relationsToAdd,r),e={__op:"AddRelation",objects:a}),this.relationsToRemove.length>0&&(a=n.map(this.relationsToRemove,r),t={__op:"RemoveRelation",objects:a}),e&&t?{__op:"Batch",ops:[e,t]}:e||t||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw"You can't modify a relation after deleting it.";if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw"Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.";var i=n.union(n.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),r=n.union(n.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),a=new t.Op.Relation(i,r);return a._targetClassName=this._targetClassName,a}throw"Op is invalid after previous op."}return this},_estimate:function(e,n,i){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw"Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in."}else e.targetClassName=this._targetClassName;return e}throw"Op is invalid after previous op."}var r=new t.Relation(n,i);r.targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(void 0,e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(void 0,e.objects))})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Relation=function(e,t){this.parent=e,this.key=t,this.targetClassName=null},t.Relation.prototype={_ensureParentAndKey:function(e,t){if(this.parent=this.parent||e,this.key=this.key||t,this.parent!==e)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==t)throw"Internal Error. Relation retrieved from two different keys."},add:function(e){n.isArray(e)||(e=[e]);var i=new t.Op.Relation(e,[]);this.parent.set(this.key,i),this.targetClassName=i._targetClassName},remove:function(e){n.isArray(e)||(e=[e]);var i=new t.Op.Relation([],e);this.parent.set(this.key,i),this.targetClassName=i._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,n;return this.targetClassName?(e=t.Object._getSubclass(this.targetClassName),n=new t.Query(e)):(e=t.Object._getSubclass(this.parent.className),n=new t.Query(e),n._extraOptions.redirectClassNameForKey=this.key),n._addCondition("$relatedTo","object",this.parent._toPointer()),n._addCondition("$relatedTo","key",this.key),n}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Promise=function(){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]},n.extend(t.Promise,{_isPromisesAPlusCompliant:!1,is:function(e){return e&&e.then&&n.isFunction(e.then)},as:function(){var e=new t.Promise;return e.resolve.apply(e,arguments),e},error:function(){var e=new t.Promise;return e.reject.apply(e,arguments),e},when:function(e){var n;n=e&&t._isNullOrUndefined(e.length)?arguments:e;var i=n.length,r=!1,a=[],o=[];if(a.length=n.length,o.length=n.length,0===i)return t.Promise.as.apply(this,a);var s=new t.Promise,l=function(){i-=1,0===i&&(r?s.reject(o):s.resolve.apply(s,a))};return t._arrayEach(n,function(e,n){t.Promise.is(e)?e.then(function(e){a[n]=e,l()},function(e){o[n]=e,r=!0,l()}):(a[n]=e,l())}),s},_continueWhile:function(e,n){return e()?n().then(function(){return t.Promise._continueWhile(e,n)}):t.Promise.as()}}),n.extend(t.Promise.prototype,{resolve:function(e){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0,this._result=arguments;var n=arguments;t._arrayEach(this._resolvedCallbacks,function(e){e.apply(this,n)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},reject:function(e){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=e,t._arrayEach(this._rejectedCallbacks,function(t){t(e)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(e,n){var i=new t.Promise,r=function(){var n=arguments;if(e)if(t.Promise._isPromisesAPlusCompliant)try{n=[e.apply(this,n)]}catch(r){n=[t.Promise.error(r)]}else n=[e.apply(this,n)];1===n.length&&t.Promise.is(n[0])?n[0].then(function(){i.resolve.apply(i,arguments)},function(e){i.reject(e)}):i.resolve.apply(i,n)},a=function(e){var r=[];if(n){if(t.Promise._isPromisesAPlusCompliant)try{r=[n(e)]}catch(a){r=[t.Promise.error(a)]}else r=[n(e)];1===r.length&&t.Promise.is(r[0])?r[0].then(function(){i.resolve.apply(i,arguments)},function(e){i.reject(e)}):t.Promise._isPromisesAPlusCompliant?i.resolve.apply(i,r):i.reject(r[0])}else i.reject(e)},o=function(e){e.call()};t.Promise._isPromisesAPlusCompliant&&("undefined"!=typeof window&&window.setTimeout?o=function(e){window.setTimeout(e,0)}:"undefined"!=typeof process&&process.nextTick&&(o=function(e){process.nextTick(e)}));var s=this;return this._resolved?o(function(){r.apply(s,s._result)}):this._rejected?o(function(){a(s._error)}):(this._resolvedCallbacks.push(r),this._rejectedCallbacks.push(a)),i},always:function(e){return this.then(e,e)},done:function(e){return this.then(e)},fail:function(e){return this.then(null,e)},_thenRunCallbacks:function(e,i){var r;if(n.isFunction(e)){var a=e;r={success:function(e){a(e,null)},error:function(e){a(null,e)}}}else r=n.clone(e);return r=r||{},this.then(function(e){return r.success?r.success.apply(this,arguments):i&&i.trigger("sync",i,e,r),t.Promise.as.apply(t.Promise,arguments)},function(e){return r.error?n.isUndefined(i)?r.error(e):r.error(i,e):i&&i.trigger("error",i,e,r),t.Promise.error(e)})},_continueWith:function(e){return this.then(function(){return e(arguments,null)},function(t){return e(null,t)})}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,i=function(e){if(26>e)return String.fromCharCode(65+e);if(52>e)return String.fromCharCode(97+(e-26));if(62>e)return String.fromCharCode(48+(e-52));if(62===e)return"+";if(63===e)return"/";throw"Tried to encode large digit "+e+" in base64."},r=function(e){var t=[];return t.length=Math.ceil(e.length/3),n.times(t.length,function(n){var r=e[3*n],a=e[3*n+1]||0,o=e[3*n+2]||0,s=3*n+1<e.length,l=3*n+2<e.length;t[n]=[i(r>>2&63),i(r<<4&48|a>>4&15),s?i(a<<2&60|o>>6&3):"=",l?i(63&o):"="].join("")}),t.join("")},a={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm","class":"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"},o=function(e,n){var i=new t.Promise;if("undefined"==typeof FileReader)return t.Promise.error(new t.Error(t.Error.FILE_READ_ERROR,"Attempted to use a FileReader on an unsupported browser."));var r=new FileReader;return r.onloadend=function(){if(2!==r.readyState)return void i.reject(new t.Error(t.Error.FILE_READ_ERROR,"Error reading file."));var e=r.result,a=/^data:([^;]*);base64,(.*)$/.exec(e);return a?void i.resolve(a[2],n||a[1]):void i.reject(new t.Error(t.Error.FILE_READ_ERROR,"Unable to interpret data URL: "+e))},r.readAsDataURL(e),i};t.File=function(e,i,s){this._name=e;var l=/\.([^.]*)$/.exec(e);l&&(l=l[1].toLowerCase());var c=s||a[l]||"text/plain";if(n.isArray(i))this._source=t.Promise.as(r(i),c);else if(i&&i.base64){var u=/^data:([a-zA-Z]*\/[a-zA-Z+.-]*);(charset=[a-zA-Z0-9\-\/\s]*,)?base64,(\S+)/,h=u.exec(i.base64);this._source=h&&h.length>0?t.Promise.as(4===h.length?h[3]:h[2],h[1]):t.Promise.as(i.base64,c)}else if("undefined"!=typeof File&&i instanceof File)this._source=o(i,s);else if(n.isString(i))throw"Creating a Parse.File from a String is not yet supported."},t.File.prototype={name:function(){return this._name},url:function(){return this._url},save:function(e){e=e||{};var n=this;return n._previousSave||(n._previousSave=n._source.then(function(i,r){var a={base64:i,_ContentType:r};return t._request({route:"files",className:n._name,method:"POST",data:a,useMasterKey:e.useMasterKey})}).then(function(e){return n._name=e.name,n._url=e.url,n})),n._previousSave._thenRunCallbacks(e)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Object=function(e,i){if(n.isString(e))return t.Object._create.apply(this,arguments);e=e||{},i&&i.parse&&(e=this.parse(e));var r=t._getValue(this,"defaults");if(r&&(e=n.extend({},r,e)),i&&i.collection&&(this.collection=i.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=n.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(e,{silent:!0}))throw new Error("Can't create an invalid Parse.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=n.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,n){return n=n||{},t.Object._deepSaveAsync(e,{useMasterKey:n.useMasterKey})._thenRunCallbacks(n)},t.Object.destroyAll=function(e,i){i=i||{};var r=function(e){e.trigger("destroy",e,e.collection,i)},a=[],o=function(e){var o=t.Promise.as();return e.length>0&&(o=o.then(function(){return t._request({route:"batch",method:"POST",useMasterKey:i.useMasterKey,data:{requests:n.map(e,function(e){return{method:"DELETE",path:"/1/classes/"+e.className+"/"+e.id}})}})}).then(function(n,o,s){t._arrayEach(e,function(e,o){if(n[o].success&&i.wait)r(e);else if(n[o].error){var s=new t.Error(n[o].error.code,n[o].error.error);s.object=e,a.push(s)}})})),o},s=t.Promise.as(),l=[];return t._arrayEach(e,function(t,n){if(t.id&&i.wait||r(t),t.id&&l.push(t),20===l.length||n+1===e.length){var a=l;l=[],s=s.then(function(){return o(a)})}}),s.then(function(){if(0===a.length)return!0;var e=new t.Error(t.Error.AGGREGATE_ERROR,"Error deleting an object in destroyAll");return e.errors=a,t.Promise.error(e)})._thenRunCallbacks(i)},t.Object.fetchAll=function(e,n){return t.Object._fetchAll(e,!0)._thenRunCallbacks(n)},t.Object.fetchAllIfNeeded=function(e,n){return t.Object._fetchAll(e,!1)._thenRunCallbacks(n)},n.extend(t.Object.prototype,t.Events,{_existed:!1,initialize:function(){},toJSON:function(){var e=this._toFullJSON();return t._arrayEach(["__type","className"],function(t){delete e[t]}),e},_toFullJSON:function(e){var i=n.clone(this.attributes);return t._objectEach(i,function(n,r){i[r]=t._encode(n,e)}),t._objectEach(this._operations,function(e,t){i[t]=e}),n.has(this,"id")&&(i.objectId=this.id),n.has(this,"createdAt")&&(i.createdAt=n.isDate(this.createdAt)?this.createdAt.toJSON():this.createdAt),n.has(this,"updatedAt")&&(i.updatedAt=n.isDate(this.updatedAt)?this.updatedAt.toJSON():this.updatedAt),i.__type="Object",i.className=this.className,i},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(i,r){if(i instanceof t.Object)i._refreshCache();else if(n.isObject(i)){var a=!1;n.isArray(i)&&n.each(i,function(e){e instanceof t.Object&&(a=!0,e._refreshCache())}),!a&&e._resetCacheForKey(r)&&e.set(r,new t.Op.Set(i),{silent:!0})}}),delete e._refreshingCache)},dirty:function(e){this._refreshCache();var t=n.last(this._opSetQueue);return e?t[e]?!0:!1:this.id?n.keys(t).length>0?!0:!1:!0},dirtyKeys:function(){return n.keys(n.last(this._opSetQueue))},_toPointer:function(){if(!this.id)throw new Error("Can't serialize an unsaved Parse.Object");return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){return this.attributes[e]},relation:function(e){var n=this.get(e);if(n){if(!(n instanceof t.Relation))throw"Called relation() on non-relation field "+e;return n._ensureParentAndKey(this,e),n}return new t.Relation(this,e)},escape:function(e){var i=this._escapedAttributes[e];if(i)return i;var r,a=this.attributes[e];return r=t._isNullOrUndefined(a)?"":n.escape(a.toString()),this._escapedAttributes[e]=r,r},has:function(e){return!t._isNullOrUndefined(this.attributes[e])},_mergeMagicFields:function(e){var i=this,r=["id","objectId","createdAt","updatedAt"];t._arrayEach(r,function(r){e[r]&&("objectId"===r?i.id=e[r]:i[r]="createdAt"!==r&&"updatedAt"!==r||n.isDate(e[r])?e[r]:t._parseDate(e[r]),delete e[r])})},_copyServerData:function(e){var n={};t._objectEach(e,function(e,i){n[i]=t._decode(i,e)}),this._serverData=n,this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._rebuildAllEstimatedData()},_mergeFromObject:function(e){e&&(this.id=e.id,this.createdAt=e.createdAt,this.updatedAt=e.updatedAt,this._copyServerData(e._serverData),this._hasData=!0)},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue);var i=n.first(this._opSetQueue);t._objectEach(e,function(t,n){var r=e[n],a=i[n];r&&a?i[n]=a._mergeWithPrevious(r):r&&(i[n]=r)}),this._saving=this._saving-1},_finishSave:function(e){var i={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(i[e.id]=e)});var r=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue),this._applyOpSet(r,this._serverData),this._mergeMagicFields(e);var a=this;t._objectEach(e,function(e,n){a._serverData[n]=t._decode(n,e);var r=t._traverse(a._serverData[n],function(e){return e instanceof t.Object&&i[e.id]?i[e.id]:void 0});r&&(a._serverData[n]=r)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(e,t){this._opSetQueue=[{}],this._mergeMagicFields(e),this._copyServerData(e),this._hasData=t},_applyOpSet:function(e,n){var i=this;t._objectEach(e,function(e,r){n[r]=e._estimate(n[r],i,r),n[r]===t.Op._UNSET&&delete n[r]})},_resetCacheForKey:function(e){var i=this.attributes[e];if(!(!n.isObject(i)||i instanceof t.Object||i instanceof t.File)){i=i.toJSON?i.toJSON():i;var r=JSON.stringify(i);if(this._hashedJSON[e]!==r){var a=!!this._hashedJSON[e];return this._hashedJSON[e]=r,a}}return!1},_rebuildEstimatedDataForKey:function(e){var n=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(i){var r=i[e];r&&(n.attributes[e]=r._estimate(n.attributes[e],n,e),n.attributes[e]===t.Op._UNSET?delete n.attributes[e]:n._resetCacheForKey(e))})},_rebuildAllEstimatedData:function(){var e=this,i=n.clone(this.attributes);this.attributes=n.clone(this._serverData),t._arrayEach(this._opSetQueue,function(n){e._applyOpSet(n,e.attributes),t._objectEach(n,function(t,n){e._resetCacheForKey(n)})}),t._objectEach(i,function(t,n){e.attributes[n]!==t&&e.trigger("change:"+n,e,e.attributes[n],{})}),t._objectEach(this.attributes,function(t,r){n.has(i,r)||e.trigger("change:"+r,e,t,{})})},set:function(e,i,r){var a;if(n.isObject(e)||t._isNullOrUndefined(e)?(a=e,t._objectEach(a,function(e,n){a[n]=t._decode(n,e)}),r=i):(a={},a[e]=t._decode(e,i)),r=r||{},!a)return this;a instanceof t.Object&&(a=a.attributes);var o=this;t._objectEach(a,function(e,t){if(o.constructor.readOnlyAttributes&&o.constructor.readOnlyAttributes[t])throw new Error("Cannot modify readonly key: "+t)}),r.unset&&t._objectEach(a,function(e,n){a[n]=new t.Op.Unset});var s=n.clone(a);if(t._objectEach(s,function(e,n){e instanceof t.Op&&(s[n]=e._estimate(o.attributes[n],o,n),s[n]===t.Op._UNSET&&delete s[n])}),!this._validate(a,r))return!1;this._mergeMagicFields(a),r.changes={};var l=this._escapedAttributes;return this._previousAttributes||{},t._arrayEach(n.keys(a),function(e){var i=a[e];i instanceof t.Relation&&(i.parent=o),i instanceof t.Op||(i=new t.Op.Set(i));var s=!0;i instanceof t.Op.Set&&n.isEqual(o.attributes[e],i.value)&&(s=!1),s&&(delete l[e],r.silent?o._silent[e]=!0:r.changes[e]=!0);var c=n.last(o._opSetQueue);c[e]=i._mergeWithPrevious(c[e]),o._rebuildEstimatedDataForKey(e),s?(o.changed[e]=o.attributes[e],r.silent||(o._pending[e]=!0)):(delete o.changed[e],delete o._pending[e])}),r.silent||this.change(r),this},unset:function(e,t){return t=t||{},t.unset=!0,this.set(e,null,t)},increment:function(e,i){return(n.isUndefined(i)||n.isNull(i))&&(i=1),this.set(e,new t.Op.Increment(i))},add:function(e,n){return this.set(e,new t.Op.Add([n]))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique([n]))},remove:function(e,n){return this.set(e,new t.Op.Remove([n]))},op:function(e){return n.last(this._opSetQueue)[e]},clear:function(e){e=e||{},e.unset=!0;var t=n.extend(this.attributes,this._operations);return this.set(t,e)},_getSaveJSON:function(){var e=n.clone(n.first(this._opSetQueue));return t._objectEach(e,function(t,n){e[n]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(e){var n=this;e=e||{};var i=t._request({method:"GET",route:"classes",className:this.className,objectId:this.id,useMasterKey:e.useMasterKey});return i.then(function(e,t,i){return n._finishFetch(n.parse(e,t,i),!0),n})._thenRunCallbacks(e,this)},save:function(e,i,r){var a,o,s;if(n.isObject(e)||t._isNullOrUndefined(e)?(a=e,s=i):(a={},a[e]=i,s=r),!s&&a){var l=n.reject(a,function(e,t){return n.include(["success","error","wait"],t);

});if(0===l.length){var c=!0;if(n.has(a,"success")&&!n.isFunction(a.success)&&(c=!1),n.has(a,"error")&&!n.isFunction(a.error)&&(c=!1),c)return this.save(null,a)}}s=n.clone(s)||{},s.wait&&(o=n.clone(this.attributes));var u=n.clone(s)||{};u.wait&&(u.silent=!0);var h;if(u.error=function(e,t){h=t},a&&!this.set(a,u))return t.Promise.error(h)._thenRunCallbacks(s,this);var d=this;d._refreshCache();var f=[],p=[];return t.Object._findUnsavedChildren(d.attributes,f,p),f.length+p.length>0?t.Object._deepSaveAsync(this.attributes,{useMasterKey:s.useMasterKey}).then(function(){return d.save(null,s)},function(e){return t.Promise.error(e)._thenRunCallbacks(s,d)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||t.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var e=d.id?"PUT":"POST",i=d._getSaveJSON(),r="classes",l=d.className;"_User"!==d.className||d.id||(r="users",l=null);var c=t._request({route:r,className:l,objectId:d.id,method:e,useMasterKey:s.useMasterKey,data:i});return c=c.then(function(e,t,i){var r=d.parse(e,t,i);return s.wait&&(r=n.extend(a||{},r)),d._finishSave(r),s.wait&&d.set(o,u),d},function(e){return d._cancelSave(),t.Promise.error(e)})._thenRunCallbacks(s,d)}),this._allPreviousSaves)},destroy:function(e){e=e||{};var n=this,i=function(){n.trigger("destroy",n,n.collection,e)};if(!this.id)return i();e.wait||i();var r=t._request({route:"classes",className:this.className,objectId:this.id,method:"DELETE",useMasterKey:e.useMasterKey});return r.then(function(){return e.wait&&i(),n})._thenRunCallbacks(e,this)},parse:function(e,i,r){var a=n.clone(e);return n(["createdAt","updatedAt"]).each(function(e){a[e]&&(a[e]=t._parseDate(a[e]))}),a.updatedAt||(a.updatedAt=a.createdAt),i&&(this._existed=201!==i),a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var i=this._changing;this._changing=!0;var r=this;t._objectEach(this._silent,function(e){r._pending[e]=!0});var a=n.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(a,function(t,n){r.trigger("change:"+n,r,r.get(n),e)}),i)return this;for(var o=function(e,t){r._pending[t]||r._silent[t]||delete r.changed[t]};!n.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,o),r._previousAttributes=n.clone(this.attributes);return this._changing=!1,this},existed:function(){return this._existed},hasChanged:function(e){return arguments.length?this.changed&&n.has(this.changed,e):!n.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var i={},r=this._previousAttributes;return t._objectEach(e,function(e,t){n.isEqual(r[t],e)||(i[t]=e)}),i},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(e,i){if(n.has(e,"ACL")&&!(e.ACL instanceof t.ACL))return new t.Error(t.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.");var r=!0;return t._objectEach(e,function(e,t){/^[A-Za-z][0-9A-Za-z_]*$/.test(t)||(r=!1)}),r?!1:new t.Error(t.Error.INVALID_KEY_NAME)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validate(e,t);return i?(t&&t.error?t.error(this,i,t):this.trigger("error",this,i,t),!1):!0},getACL:function(){return this.get("ACL")},setACL:function(e,t){return this.set("ACL",e,t)}}),t.Object._getSubclass=function(e){if(!n.isString(e))throw"Parse.Object._getSubclass requires a string argument.";var i=t.Object._classMap[e];return i||(i=t.Object.extend(e),t.Object._classMap[e]=i),i},t.Object._create=function(e,n,i){var r=t.Object._getSubclass(e);return new r(n,i)},t.Object._toObjectIdArray=function(e,n){if(0===e.length)return t.Promise.as(e);for(var i,r=e[0].className,a=[],o=0;o<e.length;o++){var s=e[o];if(r!==s.className)return i=new t.Error(t.Error.INVALID_CLASS_NAME,"All objects should be of the same class"),t.Promise.error(i);if(!s.id)return i=new t.Error(t.Error.MISSING_OBJECT_ID,"All objects must have an ID"),t.Promise.error(i);n&&s._hasData||a.push(s.id)}return t.Promise.as(a)},t.Object._updateWithFetchedResults=function(e,n,i){var r={};t._arrayEach(n,function(e,t){r[e.id]=e});for(var a=0;a<e.length;a++){var o=e[a],s=r[o.id];if(!s&&i){var l=new t.Error(t.Error.OBJECT_NOT_FOUND,"All objects must exist on the server");return t.Promise.error(l)}o._mergeFromObject(s)}return t.Promise.as(e)},t.Object._fetchAll=function(e,n){if(0===e.length)return t.Promise.as(e);var i=!n;return t.Object._toObjectIdArray(e,i).then(function(n){var i=e[0].className,r=new t.Query(i);return r.containedIn("objectId",n),r.limit=n.length,r.find()}).then(function(i){return t.Object._updateWithFetchedResults(e,i,n)})},t.Object._classMap={},t.Object._extend=t._extend,t.Object.extend=function(e,i,r){if(!n.isString(e)){if(e&&n.has(e,"className"))return t.Object.extend(e.className,e,i);throw new Error("Parse.Object.extend's first argument should be the className.")}"User"===e&&t.User._performUserRewrite&&(e="_User"),i=i||{},i.className=e;var a=null;if(n.has(t.Object._classMap,e)){var o=t.Object._classMap[e];a=o._extend(i,r)}else a=this._extend(i,r);return a.extend=function(i){if(n.isString(i)||i&&n.has(i,"className"))return t.Object.extend.apply(a,arguments);var r=[e].concat(t._.toArray(arguments));return t.Object.extend.apply(a,r)},a.createWithoutData=function(e){var t=new a;return t.id=e,t},t.Object._classMap[e]=a,a},t.Object._findUnsavedChildren=function(e,n,i){t._traverse(e,function(e){return e instanceof t.Object?(e._refreshCache(),void(e.dirty()&&n.push(e))):e instanceof t.File?void(e.url()||i.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){if(e instanceof t.Object)return!!e.id;if(e instanceof t.File)return!0;var i=!0;return n.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(i=!1)}):n.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(i=!1)}),i},t.Object._deepSaveAsync=function(e,i){var r=[],a=[];t.Object._findUnsavedChildren(e,r,a);var o=t.Promise.as();n.each(a,function(e){o=o.then(function(){return e.save(i)})});var s=n.uniq(r),l=n.uniq(s);return o.then(function(){return t.Promise._continueWhile(function(){return l.length>0},function(){var e=[],r=[];if(t._arrayEach(l,function(t){return e.length>20?void r.push(t):void(t._canBeSerialized()?e.push(t):r.push(t))}),l=r,0===e.length)return t.Promise.error(new t.Error(t.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."));var a=t.Promise.when(n.map(e,function(e){return e._allPreviousSaves||t.Promise.as()})),o=new t.Promise;return t._arrayEach(e,function(e){e._allPreviousSaves=o}),a._continueWith(function(){return t._request({route:"batch",method:"POST",useMasterKey:i.useMasterKey,data:{requests:n.map(e,function(e){var t=e._getSaveJSON(),n="POST",i="/1/classes/"+e.className;return e.id&&(i=i+"/"+e.id,n="PUT"),e._startSave(),{method:n,path:i,body:t}})}}).then(function(n,i,r){var a;return t._arrayEach(e,function(e,t){n[t].success?e._finishSave(e.parse(n[t].success,i,r)):(a=a||n[t].error,e._cancelSave())}),a?t.Promise.error(new t.Error(a.code,a.error)):void 0}).then(function(e){return o.resolve(e),e},function(e){return o.reject(e),t.Promise.error(e)})})})}).then(function(){return e})}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Role=t.Object.extend("_Role",{constructor:function(e,i){n.isString(e)&&i instanceof t.ACL?(t.Object.prototype.constructor.call(this,null,null),this.setName(e),this.setACL(i)):t.Object.prototype.constructor.call(this,e,i)},getName:function(){return this.get("name")},setName:function(e,t){return this.set("name",e,t)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,i){if("name"in e&&e.name!==this.getName()){var r=e.name;if(this.id&&this.id!==e.objectId)return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(r))return new t.Error(t.Error.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(r))return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return t.Object.prototype.validate?t.Object.prototype.validate.call(this,e,i):!1}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Collection=function(e,t){t=t||{},t.comparator&&(this.comparator=t.comparator),t.model&&(this.model=t.model),t.query&&(this.query=t.query),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})},n.extend(t.Collection.prototype,t.Events,{model:t.Object,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(e,i){var r,a,o,s,l,c,u={},h={};for(i=i||{},e=n.isArray(e)?e.slice():[e],r=0,o=e.length;o>r;r++){if(e[r]=this._prepareModel(e[r],i),s=e[r],!s)throw new Error("Can't add an invalid model to a collection");if(l=s.cid,u[l]||this._byCid[l])throw new Error("Duplicate cid: can't add the same model to a collection twice");if(c=s.id,!t._isNullOrUndefined(c)&&(h[c]||this._byId[c]))throw new Error("Duplicate id: can't add the same model to a collection twice");h[c]=s,u[l]=s}for(r=0;o>r;r++)(s=e[r]).on("all",this._onModelEvent,this),this._byCid[s.cid]=s,s.id&&(this._byId[s.id]=s);if(this.length+=o,a=t._isNullOrUndefined(i.at)?this.models.length:i.at,this.models.splice.apply(this.models,[a,0].concat(e)),this.comparator&&this.sort({silent:!0}),i.silent)return this;for(r=0,o=this.models.length;o>r;r++)s=this.models[r],u[s.cid]&&(i.index=r,s.trigger("add",s,this,i));return this},remove:function(e,t){var i,r,a,o;for(t=t||{},e=n.isArray(e)?e.slice():[e],i=0,r=e.length;r>i;i++)o=this.getByCid(e[i])||this.get(e[i]),o&&(delete this._byId[o.id],delete this._byCid[o.cid],a=this.indexOf(o),this.models.splice(a,1),this.length--,t.silent||(t.index=a,o.trigger("remove",o,this,t)),this._removeReference(o));return this},get:function(e){return e&&this._byId[e.id||e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){if(e=e||{},!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=n.bind(this.comparator,this);return 1===this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return n.map(this.models,function(t){return t.get(e)})},reset:function(e,n){var i=this;return e=e||[],n=n||{},t._arrayEach(this.models,function(e){i._removeReference(e)}),this._reset(),this.add(e,{silent:!0,parse:n.parse}),n.silent||this.trigger("reset",this,n),this},fetch:function(e){e=n.clone(e)||{},void 0===e.parse&&(e.parse=!0);var i=this,r=this.query||new t.Query(this.model);return r.find({useMasterKey:e.useMasterKey}).then(function(t){return e.add?i.add(t,e):i.reset(t,e),i})._thenRunCallbacks(e,this)},create:function(e,t){var i=this;if(t=t?n.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||i.add(e,t);var r=t.success;return t.success=function(n,a,o){t.wait&&i.add(n,t),r?r(n,a):n.trigger("sync",e,a,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return n(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,n){if(e instanceof t.Object)e.collection||(e.collection=this);else{var i=e;n.collection=this,e=new this.model(i,n),e._validate(e.attributes,n)||(e=!1)}return e},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&"change:objectId"===e&&(delete this._byId[t.previous("objectId")],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var i=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];t._arrayEach(i,function(e){t.Collection.prototype[e]=function(){return n[e].apply(n,[this.models].concat(n.toArray(arguments)))}}),t.Collection.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.View=function(e){this.cid=n.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var i=/^(\S+)\s*(.*)$/,r=["model","collection","el","id","attributes","className","tagName"];n.extend(t.View.prototype,t.Events,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,n,i){var r=document.createElement(e);return n&&t.$(r).attr(n),i&&t.$(r).html(i),r},setElement:function(e,n){return this.$el=t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e=e||t._getValue(this,"events")){this.undelegateEvents();var r=this;t._objectEach(e,function(t,a){if(n.isFunction(t)||(t=r[e[a]]),!t)throw new Error('Event "'+e[a]+'" does not exist');var o=a.match(i),s=o[1],l=o[2];t=n.bind(t,r),s+=".delegateEvents"+r.cid,""===l?r.$el.bind(s,t):r.$el.delegate(l,s,t)})}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=n.extend({},this.options,e));var t=this;n.each(r,function(n){e[n]&&(t[n]=e[n])}),this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=t._getValue(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}}),t.View.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeFromObject:function(e){e.getSessionToken()&&(this._sessionToken=e.getSessionToken()),t.User.__super__._mergeFromObject.call(this,e)},_mergeMagicFields:function(e){e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,n){e[n]||delete e[n]})}},_synchronizeAllAuthData:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(e,t){n._synchronizeAuthData(t)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var i;n.isString(e)?(i=e,e=t.User._authProviders[i]):i=e.getAuthType();var r=this.get("authData");if(r&&e){var a=e.restoreAuthentication(r[i]);a||this._unlinkFrom(e)}}},_handleSaveResult:function(e){e&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(e||this.isCurrent())&&t.User._saveCurrentUser(this)},_linkWith:function(e,i){var r;if(n.isString(e)?(r=e,e=t.User._authProviders[e]):r=e.getAuthType(),n.has(i,"authData")){var a=this.get("authData")||{};a[r]=i.authData,this.set("authData",a);var o=n.clone(i)||{};return o.success=function(e){e._handleSaveResult(!0),i.success&&i.success.apply(this,arguments)},this.save({authData:a},o)}var s=this,l=new t.Promise;return e.authenticate({success:function(e,t){s._linkWith(e,{authData:t,success:i.success,error:i.error}).then(function(){l.resolve(s)})},error:function(e,t){i.error&&i.error(s,t),l.reject(t)}}),l},_unlinkFrom:function(e,i){var r;n.isString(e)?(r=e,e=t.User._authProviders[e]):r=e.getAuthType();var a=n.clone(i),o=this;return a.authData=null,a.success=function(t){o._synchronizeAuthData(e),i.success&&i.success.apply(this,arguments)},this._linkWith(e,a)},_isLinked:function(e){var t;t=n.isString(e)?e:e.getAuthType();var i=this.get("authData")||{};return!!i[t]},_logOutWithAll:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(e,t){n._logOutWith(t)})}},_logOutWith:function(e){this.isCurrent()&&(n.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(e,i){var r;i=i||{};var a=e&&e.username||this.get("username");if(!a||""===a)return r=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty name."),i&&i.error&&i.error(this,r),t.Promise.error(r);var o=e&&e.password||this.get("password");if(!o||""===o)return r=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty password."),i&&i.error&&i.error(this,r),t.Promise.error(r);var s=n.clone(i);return s.success=function(e){e._handleSaveResult(!0),i.success&&i.success.apply(this,arguments)},this.save(e,s)},logIn:function(e){var n=this;e=e||{};var i=t._request({route:"login",method:"GET",useMasterKey:e.useMasterKey,data:this.toJSON()});return i.then(function(e,t,i){var r=n.parse(e,t,i);return n._finishFetch(r),n._handleSaveResult(!0),n})._thenRunCallbacks(e,this)},save:function(e,i,r){var a,o;n.isObject(e)||n.isNull(e)||n.isUndefined(e)?(a=e,o=i):(a={},a[e]=i,o=r),o=o||{};var s=n.clone(o);return s.success=function(e){e._handleSaveResult(!1),o.success&&o.success.apply(this,arguments)},t.Object.prototype.save.call(this,a,s)},fetch:function(e){var i=e?n.clone(e):{};return i.success=function(t){t._handleSaveResult(!1),e&&e.success&&e.success.apply(this,arguments)},t.Object.prototype.fetch.call(this,i)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(e,t){return this.set("username",e,t)},setPassword:function(e,t){return this.set("password",e,t)},getEmail:function(){return this.get("email")},setEmail:function(e,t){return this.set("email",e,t)},authenticated:function(){return!!this._sessionToken&&t.User.current()&&t.User.current().id===this.id},getSessionToken:function(){return this._sessionToken},_upgradeToRevocableSession:function(e){if(e=e||{},!t.User.current())return t.Promise.as()._thenRunCallbacks(e);var n=t.User.current().getSessionToken();return t.Session._isRevocable(n)?t.Promise.as()._thenRunCallbacks(e):t._request({route:"upgradeToRevocableSession",method:"POST",useMasterKey:e.useMasterKey,sessionToken:n}).then(function(e){var n=new t.Session;n._finishFetch(e);var i=t.User.current();i._sessionToken=n.getSessionToken(),t.User._saveCurrentUser(i)})._thenRunCallbacks(e)}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},_performUserRewrite:!0,_isRevocableSessionEnabled:!1,signUp:function(e,n,i,r){i=i||{},i.username=e,i.password=n;var a=t.Object._create("_User");return a.signUp(i,r)},logIn:function(e,n,i){var r=t.Object._create("_User");return r._finishFetch({username:e,password:n}),r.logIn(i)},become:function(e,n){n=n||{};var i=t.Object._create("_User");return t._request({route:"users",className:"me",method:"GET",useMasterKey:n.useMasterKey,sessionToken:e}).then(function(e,t,n){var r=i.parse(e,t,n);return i._finishFetch(r),i._handleSaveResult(!0),i})._thenRunCallbacks(n,i)},logOut:function(){return t.User._currentAsync().then(function(e){var n=t.Storage.removeItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY));if(null!==e){var i=e.getSessionToken();t.Session._isRevocable(i)&&n.then(function(){return t._request({route:"logout",method:"POST",sessionToken:i})}),e._logOutWithAll(),e._isCurrentUser=!1}return t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,n})},requestPasswordReset:function(e,n){n=n||{};var i=t._request({route:"requestPasswordReset",method:"POST",useMasterKey:n.useMasterKey,data:{email:e}});return i._thenRunCallbacks(n)},current:function(){if(t.Storage.async)return t.User._currentAsync(),t.User._currentUser;if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.Storage.getItem(t._getParsePath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_currentAsync:function(){return t.User._currentUser?t.Promise.as(t.User._currentUser):t.User._currentUserMatchesDisk?t.Promise.as(t.User._currentUser):t.Storage.getItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},allowCustomUserClass:function(e){this._performUserRewrite=!e},enableRevocableSession:function(e){return e=e||{},t.User._isRevocableSessionEnabled=!0,!t._isNode&&t.User.current()?t.User.current()._upgradeToRevocableSession(e):t.Promise.as()._thenRunCallbacks(e)},_saveCurrentUser:function(e){null!==t.User._currentUser&&t.User._currentUser!==e&&t.User.logOut(),e._isCurrentUser=!0,t.User._currentUser=e,t.User._currentUserMatchesDisk=!0;var n=e.toJSON();n._id=e.id,n._sessionToken=e._sessionToken,t.Storage.async?t.Storage.setItemAsync(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(n)):t.Storage.setItem(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(n))},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n){var i=t.Object._create("_User");return i._linkWith(e,n)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Session=t.Object.extend("_Session",{getSessionToken:function(){return this._sessionToken},_mergeMagicFields:function(e){e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.Session.__super__._mergeMagicFields.call(this,e)}},{readOnlyAttributes:{createdWith:!0,expiresAt:!0,installationId:!0,restricted:!0,sessionToken:!0,user:!0},current:function(e){e=e||{};var n=t.Object._create("_Session"),i=t.User.current().getSessionToken();return t._request({route:"sessions",className:"me",method:"GET",useMasterKey:e.useMasterKey,sessionToken:i}).then(function(e,t,i){var r=n.parse(e,t,i);return n._finishFetch(r),n})._thenRunCallbacks(e,n)},_isRevocable:function(e){return e.indexOf("r:")>-1},isCurrentSessionRevocable:function(){return null!==t.User.current()?t.Session._isRevocable(t.User.current().getSessionToken()):void 0}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Query=function(e){n.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},t.Query.or=function(){var e=n.toArray(arguments),i=null;t._arrayEach(e,function(e){if(n.isNull(i)&&(i=e.className),i!==e.className)throw"All queries must be for the same class"});var r=new t.Query(i);return r._orQuery(e),r},t.Query.prototype={get:function(e,i){var r=this;r.equalTo("objectId",e);var a={};return i&&n.has(i,"useMasterKey")&&(a={useMasterKey:i.useMasterKey}),r.first(a).then(function(e){if(e)return e;var n=new t.Error(t.Error.OBJECT_NOT_FOUND,"Object not found.");return t.Promise.error(n)})._thenRunCallbacks(i,null)},toJSON:function(){var e={where:this._where};return this._include.length>0&&(e.include=this._include.join(",")),this._select&&(e.keys=this._select.join(",")),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order.join(",")),t._objectEach(this._extraOptions,function(t,n){e[n]=t}),e},find:function(e){var i=this;e=e||{};var r=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,data:this.toJSON()});return r.then(function(e){return n.map(e.results,function(n){var r;return r=e.className?new t.Object(e.className):new i.objectClass,r._finishFetch(n,!0),r})})._thenRunCallbacks(e)},count:function(e){var n=this;e=e||{};var i=this.toJSON();i.limit=0,i.count=1;var r=t._request({route:"classes",className:n.className,method:"GET",useMasterKey:e.useMasterKey,data:i});return r.then(function(e){return e.count})._thenRunCallbacks(e)},first:function(e){var i=this;e=e||{};var r=this.toJSON();r.limit=1;var a=t._request({route:"classes",className:this.className,method:"GET",useMasterKey:e.useMasterKey,data:r});return a.then(function(e){return n.map(e.results,function(n){var r;return r=e.className?new t.Object(e.className):new i.objectClass,r._finishFetch(n,!0),r})[0]})._thenRunCallbacks(e)},collection:function(e,i){return i=i||{},new t.Collection(e,n.extend(i,{model:this.objectClass,query:this}))},skip:function(e){return this._skip=e,this},limit:function(e){return this._limit=e,this},equalTo:function(e,i){return n.isUndefined(i)?this.doesNotExist(e):(this._where[e]=t._encode(i),this)},_addCondition:function(e,n,i){return this._where[e]||(this._where[e]={}),this._where[e][n]=t._encode(i),this},notEqualTo:function(e,t){return this._addCondition(e,"$ne",t),this},lessThan:function(e,t){return this._addCondition(e,"$lt",t),this},greaterThan:function(e,t){return this._addCondition(e,"$gt",t),this},lessThanOrEqualTo:function(e,t){return this._addCondition(e,"$lte",t),this},greaterThanOrEqualTo:function(e,t){return this._addCondition(e,"$gte",t),this},containedIn:function(e,t){return this._addCondition(e,"$in",t),this},notContainedIn:function(e,t){return this._addCondition(e,"$nin",t),this},containsAll:function(e,t){return this._addCondition(e,"$all",t),this},exists:function(e){return this._addCondition(e,"$exists",!0),this},doesNotExist:function(e){return this._addCondition(e,"$exists",!1),this},matches:function(e,t,n){return this._addCondition(e,"$regex",t),n||(n=""),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),n&&n.length&&this._addCondition(e,"$options",n),this},matchesQuery:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$inQuery",n),this},doesNotMatchQuery:function(e,t){var n=t.toJSON();return n.className=t.className,this._addCondition(e,"$notInQuery",n),this},matchesKeyInQuery:function(e,t,n){var i=n.toJSON();return i.className=n.className,this._addCondition(e,"$select",{key:t,query:i}),this},doesNotMatchKeyInQuery:function(e,t,n){var i=n.toJSON();return i.className=n.className,this._addCondition(e,"$dontSelect",{key:t,query:i}),this},_orQuery:function(e){var t=n.map(e,function(e){return e.toJSON().where});return this._where.$or=t,this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,t){return this._addCondition(e,"$regex",this._quote(t)),this},startsWith:function(e,t){return this._addCondition(e,"$regex","^"+this._quote(t)),this},endsWith:function(e,t){return this._addCondition(e,"$regex",this._quote(t)+"$"),this},ascending:function(){return this._order=[],this.addAscending.apply(this,arguments)},addAscending:function(e){var n=this;return this._order||(this._order=[]),t._arrayEach(arguments,function(e){Array.isArray(e)&&(e=e.join()),n._order=n._order.concat(e.replace(/\s/g,"").split(","))}),this},descending:function(e){return this._order=[],this.addDescending.apply(this,arguments)},addDescending:function(e){var i=this;return this._order||(this._order=[]),t._arrayEach(arguments,function(e){Array.isArray(e)&&(e=e.join()),i._order=i._order.concat(n.map(e.replace(/\s/g,"").split(","),function(e){return"-"+e}))}),this},near:function(e,n){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$nearSphere",n),this},withinRadians:function(e,t,n){return this.near(e,t),this._addCondition(e,"$maxDistance",n),this},withinMiles:function(e,t,n){return this.withinRadians(e,t,n/3958.8)},withinKilometers:function(e,t,n){return this.withinRadians(e,t,n/6371)},withinGeoBox:function(e,n,i){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),i instanceof t.GeoPoint||(i=new t.GeoPoint(i)),this._addCondition(e,"$within",{$box:[n,i]}),this},include:function(){var e=this;return t._arrayEach(arguments,function(t){n.isArray(t)?e._include=e._include.concat(t):e._include.push(t)}),this},select:function(){var e=this;return this._select=this._select||[],t._arrayEach(arguments,function(t){n.isArray(t)?e._select=e._select.concat(t):e._select.push(t)}),this},each:function(e,i){if(i=i||{},this._order||this._skip||this._limit>=0){var r="Cannot iterate on a query with sort, skip, or limit.";return t.Promise.error(r)._thenRunCallbacks(i)}var a=(new t.Promise,new t.Query(this.objectClass));a._limit=i.batchSize||100,a._where=n.clone(this._where),a._include=n.clone(this._include),this._select&&(a._select=n.clone(this._select)),a.ascending("objectId");var o={};n.has(i,"useMasterKey")&&(o.useMasterKey=i.useMasterKey);var s=!1;return t.Promise._continueWhile(function(){return!s},function(){return a.find(o).then(function(n){var i=t.Promise.as();return t._.each(n,function(t){i=i.then(function(){return e(t)})}),i.then(function(){n.length>=a._limit?a.greaterThan("objectId",n[n.length-1].id):s=!0})})})._thenRunCallbacks(i)}}}(this),function(e){e.Parse=e.Parse||{};var t,n,i=e.Parse,r=i._,a=!1,o={authenticate:function(e){var n=this;FB.login(function(t){t.authResponse?e.success&&e.success(n,{id:t.authResponse.userID,access_token:t.authResponse.accessToken,expiration_date:new Date(1e3*t.authResponse.expiresIn+(new Date).getTime()).toJSON()}):e.error&&e.error(n,t)},{scope:t})},restoreAuthentication:function(e){if(e){var t={userID:e.id,accessToken:e.access_token,expiresIn:(i._parseDate(e.expiration_date).getTime()-(new Date).getTime())/1e3},a=r.clone(n);a.authResponse=t,a.status=!1;var o=FB.getAuthResponse();o&&o.userID!==t.userID&&FB.logout(),FB.init(a)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null)}};i.FacebookUtils={init:function(e){if("undefined"==typeof FB)throw"The Facebook JavaScript SDK must be loaded before calling init.";if(n=r.clone(e)||{},n.status&&"undefined"!=typeof console){var t=console.warn||console.log||function(){};t.call(console,"The 'status' flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.")}n.status=!1,FB.init(n),i.User._registerAuthenticationProvider(o),a=!0},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,n){if(!e||r.isString(e)){if(!a)throw"You must initialize FacebookUtils before calling logIn.";return t=e,i.User._logInWith("facebook",n)}var o=r.clone(n)||{};return o.authData=e,i.User._logInWith("facebook",o)},link:function(e,n,i){if(!n||r.isString(n)){if(!a)throw"You must initialize FacebookUtils before calling link.";return t=n,e._linkWith("facebook",i)}var o=r.clone(i)||{};return o.authData=n,e._linkWith("facebook",o)},unlink:function(e,t){if(!a)throw"You must initialize FacebookUtils before calling unlink.";return e._unlinkFrom("facebook",t)}}}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl")};var i=/^[#\/]/,r=/msie [\w.]+/;t.History.started=!1,n.extend(t.History.prototype,t.Events,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,n){if(t._isNullOrUndefined(e))if(this._hasPushState||n){e=window.location.pathname;var r=window.location.search;r&&(e+=r)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(i,"");

},start:function(e){if(t.History.started)throw new Error("Parse.history has already been started");t.History.started=!0,this.options=n.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var a=this.getFragment(),o=document.documentMode,s=r.exec(navigator.userAgent.toLowerCase())&&(!o||7>=o);s&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a)),this._hasPushState?t.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)),this.fragment=a;var l=window.location,c=l.pathname===this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!c?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&c&&l.hash&&(this.fragment=this.getHash().replace(i,""),window.history.replaceState({},document.title,l.protocol+"//"+l.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),window.clearInterval(this._checkUrlInterval),t.History.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),i=n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return i},navigate:function(e,n){if(!t.History.started)return!1;n&&n!==!0||(n={trigger:n});var r=(e||"").replace(i,"");if(this.fragment!==r){if(this._hasPushState){0!==r.indexOf(this.options.root)&&(r=this.options.root+r),this.fragment=r;var a=n.replace?"replaceState":"pushState";window.history[a]({},document.title,r)}else this._wantsHashChange?(this.fragment=r,this._updateHash(window.location,r,n.replace),this.iframe&&r!==this.getFragment(this.getHash(this.iframe))&&(n.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,r,n.replace))):window.location.assign(this.options.root+e);n.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.toString().replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash=t}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Router=function(e){e=e||{},e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var i=/:\w+/g,r=/\*\w+/g,a=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;n.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,i,r){return t.history=t.history||new t.History,n.isRegExp(e)||(e=this._routeToRegExp(e)),r||(r=this[i]),t.history.route(e,n.bind(function(n){var a=this._extractParameters(e,n);r&&r.apply(this,a),this.trigger.apply(this,["route:"+i].concat(a)),t.history.trigger("route",this,i,a)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)this.routes.hasOwnProperty(t)&&e.unshift([t,this.routes[t]]);for(var n=0,i=e.length;i>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(a,"\\$&").replace(i,"([^/]+)").replace(r,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}}),t.Router.extend=t._extend}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Cloud=t.Cloud||{},n.extend(t.Cloud,{run:function(e,n,i){i=i||{};var r=t._request({route:"functions",className:e,method:"POST",useMasterKey:i.useMasterKey,data:t._encode(n,null,!0)});return r.then(function(e){return t._decode(null,e).result})._thenRunCallbacks(i)}})}(this),function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(e,n){if(n=n||{},e.where&&(e.where=e.where.toJSON().where),e.push_time&&(e.push_time=e.push_time.toJSON()),e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON()),e.expiration_time&&e.expiration_interval)throw"Both expiration_time and expiration_interval can't be set";var i=t._request({route:"push",method:"POST",data:e,useMasterKey:n.useMasterKey});return i._thenRunCallbacks(n)}}(this),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=re.type(e);return"function"===n||re.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(re.isFunction(t))return re.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return re.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(de.test(t))return re.filter(t,e,n);t=re.filter(t,e)}return re.grep(e,function(e){return re.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=_e[e]={};return re.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function o(){pe.addEventListener?(pe.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pe.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pe.addEventListener||"load"===event.type||"complete"===pe.readyState)&&(o(),re.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Te,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ce.test(n)?re.parseJSON(n):n}catch(r){}re.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!re.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(re.acceptData(e)){var r,a,o=re.expando,s=e.nodeType,l=s?re.cache:e,c=s?e[o]:e[o]&&o;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[o]=X.pop()||re.guid++:o),l[c]||(l[c]=s?{}:{toJSON:re.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=re.extend(l[c],t):l[c].data=re.extend(l[c].data,t)),a=l[c],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[re.camelCase(t)]=n),"string"==typeof t?(r=a[t],null==r&&(r=a[re.camelCase(t)])):r=a,r}}function h(e,t,n){if(re.acceptData(e)){var i,r,a=e.nodeType,o=a?re.cache:e,s=a?e[re.expando]:re.expando;if(o[s]){if(t&&(i=n?o[s]:o[s].data)){re.isArray(t)?t=t.concat(re.map(t,re.camelCase)):t in i?t=[t]:(t=re.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!c(i):!re.isEmptyObject(i))return}(n||(delete o[s].data,c(o[s])))&&(a?re.cleanData([e],!0):ne.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function d(){return!0}function f(){return!1}function p(){try{return pe.activeElement}catch(e){}}function m(e){var t=Me.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,r=0,a=typeof e.getElementsByTagName!==Se?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Se?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||re.nodeName(i,t)?a.push(i):re.merge(a,g(i,t));return void 0===t||t&&re.nodeName(e,t)?re.merge([e],a):a}function v(e){Le.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==re.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Ge.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,i=0;null!=(n=e[i]);i++)re._data(n,"globalEval",!t||re._data(t[i],"globalEval"))}function x(e,t){if(1===t.nodeType&&re.hasData(e)){var n,i,r,a=re._data(e),o=re._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)re.event.add(t,n,s[n][i])}o.data&&(o.data=re.extend({},o.data))}}function S(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[re.expando]){r=re._data(t);for(i in r.events)re.removeEvent(t,i,r.handle);t.removeAttribute(re.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!re.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Le.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function C(t,n){var i,r=re(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:re.css(r[0],"display");return r.detach(),a}function T(e){var t=pe,n=Ze[e];return n||(n=C(e,t),"none"!==n&&n||(Qe=(Qe||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Qe[0].contentWindow||Qe[0].contentDocument).document,t.write(),t.close(),n=C(e,t),Qe.detach()),Ze[e]=n),n}function E(e,t){return{get:function(){var n=e();return null!=n?n?void delete this.get:(this.get=t).apply(this,arguments):void 0}}}function P(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=dt.length;r--;)if(t=dt[r]+n,t in e)return t;return i}function k(e,t){for(var n,i,r,a=[],o=0,s=e.length;s>o;o++)i=e[o],i.style&&(a[o]=re._data(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&ke(i)&&(a[o]=re._data(i,"olddisplay",T(i.nodeName)))):(r=ke(i),(n&&"none"!==n||!r)&&re._data(i,"olddisplay",r?n:re.css(i,"display"))));for(o=0;s>o;o++)i=e[o],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function A(e,t,n){var i=lt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function L(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=re.css(e,n+Pe[a],!0,r)),i?("content"===n&&(o-=re.css(e,"padding"+Pe[a],!0,r)),"margin"!==n&&(o-=re.css(e,"border"+Pe[a]+"Width",!0,r))):(o+=re.css(e,"padding"+Pe[a],!0,r),"padding"!==n&&(o+=re.css(e,"border"+Pe[a]+"Width",!0,r)));return o}function N(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,a=et(e),o=ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,a);if(0>=r||null==r){if(r=tt(e,t,a),(0>r||null==r)&&(r=e.style[t]),it.test(r))return r;i=o&&(ne.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+L(e,t,n||(o?"border":"content"),i,a)+"px"}function O(e,t,n,i,r){return new O.prototype.init(e,t,n,i,r)}function I(){return setTimeout(function(){ft=void 0}),ft=re.now()}function R(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Pe[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function F(e,t,n){for(var i,r=(bt[t]||[]).concat(bt["*"]),a=0,o=r.length;o>a;a++)if(i=r[a].call(n,t,e))return i}function M(e,t,n){var i,r,a,o,s,l,c,u,h=this,d={},f=e.style,p=e.nodeType&&ke(e),m=re._data(e,"fxshow");n.queue||(s=re._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,re.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=re.css(e,"display"),u="none"===c?re._data(e,"olddisplay")||T(e.nodeName):c,"inline"===u&&"none"===re.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==T(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ne.shrinkWrapBlocks()||h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],mt.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}d[i]=m&&m[i]||re.style(e,i)}else c=void 0;if(re.isEmptyObject(d))"inline"===("none"===c?T(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(p=m.hidden):m=re._data(e,"fxshow",{}),a&&(m.hidden=!p),p?re(e).show():h.done(function(){re(e).hide()}),h.done(function(){var t;re._removeData(e,"fxshow");for(t in d)re.style(e,t,d[t])});for(i in d)o=F(p?m[i]:0,i,h),i in m||(m[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}}function j(e,t){var n,i,r,a,o;for(n in e)if(i=re.camelCase(n),r=t[i],a=e[n],re.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),o=re.cssHooks[i],o&&"expand"in o){a=o.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function D(e,t,n){var i,r,a=0,o=yt.length,s=re.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=ft||I(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,a=1-i,o=0,l=c.tweens.length;l>o;o++)c.tweens[o].run(a);return s.notifyWith(e,[c,a,n]),1>a&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ft||I(),duration:n.duration,tweens:[],createTween:function(t,n){var i=re.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(j(u,c.opts.specialEasing);o>a;a++)if(i=yt[a].call(c,e,u,c.opts))return i;return re.map(u,F,c),re.isFunction(c.opts.start)&&c.opts.start.call(e,c),re.fx.timer(re.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(be)||[];if(re.isFunction(n))for(;i=a[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function H(e,t,n,i){function r(s){var l;return a[s]=!0,re.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var a={},o=e===qt;return r(t.dataTypes[0])||!a["*"]&&r("*")}function B(e,t){var n,i,r=re.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&re.extend(!0,e,n),e}function V(e,t,n){for(var i,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)a=l[0];else{for(o in n){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}i||(i=o)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function q(e,t,n,i){var r,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(o=c[l+" "+a]||c["* "+a],!o)for(r in c)if(s=r.split(" "),s[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[r]:c[r]!==!0&&(a=s[0],u.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function z(e,t,n,i){var r;if(re.isArray(t))re.each(t,function(t,r){n||Gt.test(e)?i(e,r):z(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==re.type(t))i(e,t);else for(r in t)z(e+"["+r+"]",t[r],n,i)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function $(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(e){return re.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],K=X.slice,J=X.concat,Y=X.push,Q=X.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},ie="1.11.2",re=function(e,t){return new re.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,oe=/^-ms-/,se=/-([\da-z])/gi,le=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:ie,constructor:re,selector:"",length:0,toArray:function(){return K.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:K.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return re.each(this,e,t)},map:function(e){return this.pushStack(re.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(K.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:X.sort,splice:X.splice},re.extend=re.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||re.isFunction(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)e=o[i],n=r[i],o!==n&&(c&&n&&(re.isPlainObject(n)||(t=re.isArray(n)))?(t?(t=!1,a=e&&re.isArray(e)?e:[]):a=e&&re.isPlainObject(e)?e:{},o[i]=re.extend(c,a,n)):void 0!==n&&(o[i]=n));return o},re.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray||function(e){return"array"===re.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!re.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&re.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(oe,"ms-").replace(se,le)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,a=0,o=e.length,s=n(e);if(i){if(s)for(;o>a&&(r=t.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=t.apply(e[a],i),r===!1)break}else if(s)for(;o>a&&(r=t.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=t.call(e[a],a,e[a]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?re.merge(i,"string"==typeof e?[e]:e):Y.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Q)return Q.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],a=0,o=e.length,s=!n;o>a;a++)i=!t(e[a],a),i!==s&&r.push(e[a]);return r},map:function(e,t,i){var r,a=0,o=e.length,s=n(e),l=[];if(s)for(;o>a;a++)r=t(e[a],a,i),null!=r&&l.push(r);else for(a in e)r=t(e[a],a,i),null!=r&&l.push(r);return J.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),re.isFunction(e)?(n=K.call(arguments,2),i=function(){return e.apply(t||this,n.concat(K.call(arguments)))},i.guid=e.guid=e.guid||re.guid++,i):void 0},now:function(){return+new Date},support:ne}),re.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ce=function(e){function t(e,t,n,i){var r,a,o,s,l,c,h,f,p,m;if((t?t.ownerDocument||t:H)!==O&&N(t),t=t||O,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&R){if(11!==s&&(r=ye.exec(e)))if(o=r[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&D(t,a)&&a.id===o)return n.push(a),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((o=r[3])&&w.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(o)),n}if(w.qsa&&(!F||!F.test(e))){if(f=h=U,p=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=T(e),(h=t.getAttribute("id"))?f=h.replace(_e,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+d(c[l]);p=be.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{h||t.removeAttribute("id")}}}return P(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[U]=!0,e}function r(e){var t=O.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=e.length;i--;)x.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=V++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,l,c=[B,a];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[U]||(t[U]={}),(s=l[i])&&s[0]===B&&s[1]===a)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,o))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,a=n.length;a>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,c=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,i,r))&&(o.push(a),c&&t.push(s));return o}function v(e,t,n,r,a,o){return r&&!r[U]&&(r=v(r)),a&&!a[U]&&(a=v(a,o)),i(function(i,o,s,l){var c,u,h,d=[],f=[],p=o.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,d,e,s,l),b=n?a||(i?e:p||r)?[]:o:y;if(n&&n(y,b,s,l),r)for(c=g(b,f),r(c,[],s,l),u=c.length;u--;)(h=c[u])&&(b[f[u]]=!(y[f[u]]=h));if(i){if(a||e){if(a){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);a(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=a?ee(i,h):d[u])>-1&&(i[c]=!(o[c]=h))}}else b=g(b===o?b.splice(p,b.length):b),a?a(null,o,b,l):Q.apply(o,b)})}function y(e){for(var t,n,i,r=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,l=f(function(e){return e===t},o,!0),c=f(function(e){return ee(t,e)>-1},o,!0),u=[function(e,n,i){var r=!a&&(i||n!==k)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>s;s++)if(n=x.relative[e[s].type])u=[f(p(u),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[U]){for(i=++s;r>i&&!x.relative[e[i].type];i++);return v(s>1&&p(u),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}u.push(n)}return p(u)}function b(e,n){var r=n.length>0,a=e.length>0,o=function(i,o,s,l,c){var u,h,d,f=0,p="0",m=i&&[],v=[],y=k,b=i||a&&x.find.TAG("*",c),_=B+=null==y?1:Math.random()||.1,w=b.length;for(c&&(k=o!==O&&o);p!==w&&null!=(u=b[p]);p++){if(a&&u){for(h=0;d=e[h++];)if(d(u,o,s)){l.push(u);break}c&&(B=_)}r&&((u=!d&&u)&&f--,i&&m.push(u))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(m,v,o,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=J.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(B=_,k=y),m};return r?i(o):o}var _,w,x,S,C,T,E,P,k,A,L,N,O,I,R,F,M,j,D,U="sizzle"+1*new Date,H=e.document,B=0,V=0,q=n(),z=n(),W=n(),$=function(e,t){return e===t&&(L=!0),0},G=1<<31,X={}.hasOwnProperty,K=[],J=K.pop,Y=K.push,Q=K.push,Z=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),ae="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ce=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),fe=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+ae),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),xe=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Se=function(){N()};try{Q.apply(K=Z.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(Ce){Q={apply:K.length?function(e,t){Y.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},C=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,I=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),R=!C(i),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(i.getElementsByClassName),w.getById=r(function(e){return I.appendChild(e).id=U,!i.getElementsByName||!i.getElementsByName(U).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&R){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},x.find.CLASS=w.getElementsByClassName&&function(e,t){return R?t.getElementsByClassName(e):void 0},M=[],F=[],(w.qsa=ve.test(i.querySelectorAll))&&(r(function(e){I.appendChild(e).innerHTML="<a id='"+U+"'></a><select id='"+U+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&F.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+U+"-]").length||F.push("~="),e.querySelectorAll(":checked").length||F.push(":checked"),e.querySelectorAll("a#"+U+"+*").length||F.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(w.matchesSelector=ve.test(j=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(e){w.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),M.push("!=",oe)}),F=F.length&&new RegExp(F.join("|")),M=M.length&&new RegExp(M.join("|")),t=ve.test(I.compareDocumentPosition),D=t||ve.test(I.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},$=t?function(e,t){if(e===t)return L=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===H&&D(H,e)?-1:t===i||t.ownerDocument===H&&D(H,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return L=!0,0;var n,r=0,a=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!a||!s)return e===i?-1:t===i?1:a?-1:s?1:A?ee(A,e)-ee(A,t):0;if(a===s)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?o(l[r],c[r]):l[r]===H?-1:c[r]===H?1:0},i):O},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==O&&N(e),n=n.replace(he,"='$1']"),!(!w.matchesSelector||!R||M&&M.test(n)||F&&F.test(n)))try{var i=j.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,O,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==O&&N(e),D(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==O&&N(e);var n=x.attrHandle[t.toLowerCase()],i=n&&X.call(x.attrHandle,t.toLowerCase())?n(e,t,!R):void 0;return void 0!==i?i:w.attributes||!R?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(L=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort($),L){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},S=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=T(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),
e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:n?(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(se," ")+" ").indexOf(i)>-1:"|="===n?a===i||a.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,f,p,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(a){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(u=g[U]||(g[U]={}),c=u[e]||[],f=c[0]===B&&c[1],d=c[0]===B&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[B,f,d];break}}else if(y&&(c=(t[U]||(t[U]={}))[e])&&c[0]===B)d=c[1];else for(;(h=++f&&h&&h[m]||(d=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[U]||(h[U]={}))[e]=[B,d]),h!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var r,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[U]?a(n):a.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),o=r.length;o--;)i=ee(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=E(e.replace(le,"$1"));return r[U]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var n;do if(n=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===I},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})x.pseudos[_]=l(_);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,T=t.tokenize=function(e,n){var i,r,a,o,s,l,c,u=z[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){(!i||(r=ce.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(o in x.filter)!(r=pe[o].exec(s))||c[o]&&!(r=c[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):z(e,l).slice(0)},E=t.compile=function(e,t){var n,i=[],r=[],a=W[e+" "];if(!a){for(t||(t=T(e)),n=t.length;n--;)a=y(t[n]),a[U]?i.push(a):r.push(a);a=W(e,b(r,i)),a.selector=e}return a},P=t.select=function(e,t,n,i){var r,a,o,s,l,c="function"==typeof e&&e,h=!i&&T(e=c.selector||e);if(n=n||[],1===h.length){if(a=h[0]=h[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&w.getById&&9===t.nodeType&&R&&x.relative[a[1].type]){if(t=(x.find.ID(o.matches[0].replace(we,xe),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=pe.needsContext.test(e)?0:a.length;r--&&(o=a[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(i=l(o.matches[0].replace(we,xe),be.test(a[0].type)&&u(t.parentNode)||t))){if(a.splice(r,1),e=i.length&&d(a),!e)return Q.apply(n,i),n;break}}return(c||E(e,h))(i,t,!R,n,be.test(e)&&u(t.parentNode)||t),n},w.sortStable=U.split("").sort($).join("")===U,w.detectDuplicates=!!L,N(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);re.find=ce,re.expr=ce.selectors,re.expr[":"]=re.expr.pseudos,re.unique=ce.uniqueSort,re.text=ce.getText,re.isXMLDoc=ce.isXML,re.contains=ce.contains;var ue=re.expr.match.needsContext,he=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;re.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?re.find.matchesSelector(i,e)?[i]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;r>t;t++)if(re.contains(i[t],this))return!0}));for(t=0;r>t;t++)re.find(e,i[t],n);return n=this.pushStack(r>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ue.test(e)?re(e):e||[],!1).length}});var fe,pe=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=re.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||fe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pe,!0)),he.test(n[1])&&re.isPlainObject(t))for(n in t)re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=pe.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return fe.find(e);this.length=1,this[0]=i}return this.context=pe,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?"undefined"!=typeof fe.ready?fe.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))};ge.prototype=re.fn,fe=re(pe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};re.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!re(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),re.fn.extend({has:function(e){var t,n=re(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(re.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=ue.test(e)||"string"!=typeof e?re(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&re.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?re.unique(a):a)},index:function(e){return e?"string"==typeof e?re.inArray(this[0],re(e)):re.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.unique(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return re.dir(e,"parentNode")},parentsUntil:function(e,t,n){return re.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return re.dir(e,"nextSibling")},prevAll:function(e){return re.dir(e,"previousSibling")},nextUntil:function(e,t,n){return re.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return re.dir(e,"previousSibling",n)},siblings:function(e){return re.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return re.sibling(e.firstChild)},contents:function(e){return re.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(n,i){var r=re.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=re.filter(i,r)),this.length>1&&(ye[e]||(r=re.unique(r)),ve.test(e)&&(r=r.reverse())),this.pushStack(r)}});var be=/\S+/g,_e={};re.Callbacks=function(e){e="string"==typeof e?_e[e]||a(e):re.extend({},e);var t,n,i,r,o,s,l=[],c=!e.once&&[],u=function(a){for(n=e.memory&&a,i=!0,o=s||0,s=0,r=l.length,t=!0;l&&r>o;o++)if(l[o].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function a(t){re.each(t,function(t,n){var i=re.type(n);"function"===i?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&a(n)})}(arguments),t?r=l.length:n&&(s=i,u(n))}return this},remove:function(){return l&&re.each(arguments,function(e,n){for(var i;(i=re.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,o>=i&&o--)}),this},has:function(e){return e?re.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(n){re.each(t,function(t,a){var o=re.isFunction(e[t])&&e[t];r[a[1]](function(){var e=o&&o.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,i):i}},r={};return i.pipe=i.then,re.each(t,function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,a=K.call(arguments),o=a.length,s=1!==o||e&&re.isFunction(e.promise)?o:0,l=1===s?e:re.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?K.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(o>1)for(t=new Array(o),n=new Array(o),i=new Array(o);o>r;r++)a[r]&&re.isFunction(a[r].promise)?a[r].promise().done(c(r,i,a)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,a),l.promise()}});var we;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){if(e===!0?!--re.readyWait:!re.isReady){if(!pe.body)return setTimeout(re.ready);re.isReady=!0,e!==!0&&--re.readyWait>0||(we.resolveWith(pe,[re]),re.fn.triggerHandler&&(re(pe).triggerHandler("ready"),re(pe).off("ready")))}}}),re.ready.promise=function(t){if(!we)if(we=re.Deferred(),"complete"===pe.readyState)setTimeout(re.ready);else if(pe.addEventListener)pe.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pe.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&pe.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!re.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}o(),re.ready()}}()}return we.promise(t)};var xe,Se="undefined";for(xe in re(ne))break;ne.ownLast="0"!==xe,ne.inlineBlockNeedsLayout=!1,re(function(){var e,t,n,i;n=pe.getElementsByTagName("body")[0],n&&n.style&&(t=pe.createElement("div"),i=pe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Se&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=pe.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),re.acceptData=function(e){var t=re.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Te=/([A-Z])/g;re.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?re.cache[e[re.expando]]:e[re.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return h(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return h(e,t,!0)}}),re.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=re.data(a),1===a.nodeType&&!re._data(a,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=re.camelCase(i.slice(5)),l(a,i,r[i])));re._data(a,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){re.data(this,e)}):arguments.length>1?this.each(function(){re.data(this,e,t)}):a?l(a,e,re.data(a,e)):void 0},removeData:function(e){return this.each(function(){re.removeData(this,e)})}}),re.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=re._data(e,t),n&&(!i||re.isArray(n)?i=re._data(e,t,re.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=re.queue(e,t),i=n.length,r=n.shift(),a=re._queueHooks(e,t),o=function(){re.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return re._data(e,n)||re._data(e,n,{empty:re.Callbacks("once memory").add(function(){re._removeData(e,t+"queue"),re._removeData(e,n)})})}}),re.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?re.queue(this[0],e):void 0===t?this:this.each(function(){var n=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=re.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=re._data(a[o],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Ae=re.access=function(e,t,n,i,r,a,o){var s=0,l=e.length,c=null==n;if("object"===re.type(n)){r=!0;for(s in n)re.access(e,t,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,re.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(re(e),n)})),t))for(;l>s;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):a},Le=/^(?:checkbox|radio)$/i;!function(){var e=pe.createElement("input"),t=pe.createElement("div"),n=pe.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==pe.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(i){ne.deleteExpando=!1}}}(),function(){var t,n,i=pe.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),ne[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Ne=/^(?:input|select|textarea)$/i,Oe=/^key/,Ie=/^(?:mouse|pointer|contextmenu)|click/,Re=/^(?:focusinfocus|focusoutblur)$/,Fe=/^([^.]*)(?:\.(.+)|)$/;re.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,c,u,h,d,f,p,m,g=re._data(e);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=re.guid++),(o=g.events)||(o=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof re===Se||e&&re.event.triggered===e.type?void 0:re.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)a=Fe.exec(t[s])||[],f=m=a[1],p=(a[2]||"").split(".").sort(),f&&(c=re.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=re.event.special[f]||{},h=re.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&re.expr.match.needsContext.test(r),namespace:p.join(".")},l),(d=o[f])||(d=o[f]=[],d.delegateCount=0,c.setup&&c.setup.call(e,i,p,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),re.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var a,o,s,l,c,u,h,d,f,p,m,g=re.hasData(e)&&re._data(e);if(g&&(u=g.events)){for(t=(t||"").match(be)||[""],c=t.length;c--;)if(s=Fe.exec(t[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(h=re.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=d.length;a--;)o=d[a],!r&&m!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||i&&i!==o.selector&&("**"!==i||!o.selector)||(d.splice(a,1),o.selector&&d.delegateCount--,h.remove&&h.remove.call(e,o));l&&!d.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||re.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)re.event.remove(e,f+t[c],n,i,!0);re.isEmptyObject(u)&&(delete g.handle,re._removeData(e,"events"))}},trigger:function(t,n,i,r){var a,o,s,l,c,u,h,d=[i||pe],f=te.call(t,"type")?t.type:t,p=te.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||pe,3!==i.nodeType&&8!==i.nodeType&&!Re.test(f+re.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),o=f.indexOf(":")<0&&"on"+f,t=t[re.expando]?t:new re.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:re.makeArray(n,[t]),c=re.event.special[f]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!re.isWindow(i)){for(l=c.delegateType||f,Re.test(l+f)||(s=s.parentNode);s;s=s.parentNode)d.push(s),u=s;u===(i.ownerDocument||pe)&&d.push(u.defaultView||u.parentWindow||e)}for(h=0;(s=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:c.bindType||f,a=(re._data(s,"events")||{})[t.type]&&re._data(s,"handle"),a&&a.apply(s,n),a=o&&s[o],a&&a.apply&&re.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),n)===!1)&&re.acceptData(i)&&o&&i[f]&&!re.isWindow(i)){u=i[o],u&&(i[o]=null),re.event.triggered=f;try{i[f]()}catch(m){}re.event.triggered=void 0,u&&(i[o]=u)}return t.result}},dispatch:function(e){e=re.event.fix(e);var t,n,i,r,a,o=[],s=K.call(arguments),l=(re._data(this,"events")||{})[e.type]||[],c=re.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=re.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,a=0;(i=r.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((re.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],a=0;s>a;a++)i=t[a],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?re(n,this).index(l)>=0:re.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&o.push({elem:l,handlers:r})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[re.expando])return e;var t,n,i,r=e.type,a=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Ie.test(r)?this.mouseHooks:Oe.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new re.Event(a),t=i.length;t--;)n=i[t],e[n]=a[n];return e.target||(e.target=a.srcElement||pe),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,a=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||pe,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return re.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=re.extend(new re.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?re.event.trigger(r,null,t):re.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},re.removeEvent=pe.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Se&&(e[i]=null),e.detachEvent(i,n))},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:f):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return(!r||r!==i&&!re.contains(i,r))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(re.event.special.submit={setup:function(){return re.nodeName(this,"form")?!1:void re.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=re.nodeName(t,"input")||re.nodeName(t,"button")?t.form:void 0;n&&!re._data(n,"submitBubbles")&&(re.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),re._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&re.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return re.nodeName(this,"form")?!1:void re.event.remove(this,"._submit")}}),ne.changeBubbles||(re.event.special.change={setup:function(){return Ne.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(re.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),re.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),re.event.simulate("change",this,e,!0)})),!1):void re.event.add(this,"beforeactivate._change",function(e){var t=e.target;Ne.test(t.nodeName)&&!re._data(t,"changeBubbles")&&(re.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||re.event.simulate("change",this.parentNode,e,!0)}),re._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return re.event.remove(this,"._change"),!Ne.test(this.nodeName)}}),ne.focusinBubbles||re.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){re.event.simulate(t,e.target,re.event.fix(e),!0)};re.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=re._data(i,t);r||i.addEventListener(e,n,!0),re._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=re._data(i,t)-1;r?re._data(i,t,r):(i.removeEventListener(e,n,!0),re._removeData(i,t))}}}),re.fn.extend({on:function(e,t,n,i,r){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===r&&(o=i,i=function(e){return re().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=re.guid++)),this.each(function(){re.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,re(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){re.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?re.event.trigger(e,t,n,!0):void 0}});var Me="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",je=/ jQuery\d+="(?:null|\d+)"/g,De=new RegExp("<(?:"+Me+")[\\s/>]","i"),Ue=/^\s+/,He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Be=/<([\w:]+)/,Ve=/<tbody/i,qe=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,We=/checked\s*(?:[^=]|=\s*.checked.)/i,$e=/^$|\/(?:java|ecma)script/i,Ge=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ke={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Je=m(pe),Ye=Je.appendChild(pe.createElement("div"));Ke.optgroup=Ke.option,Ke.tbody=Ke.tfoot=Ke.colgroup=Ke.caption=Ke.thead,Ke.th=Ke.td,re.extend({clone:function(e,t,n){var i,r,a,o,s,l=re.contains(e.ownerDocument,e);if(ne.html5Clone||re.isXMLDoc(e)||!De.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Ye.innerHTML=e.outerHTML,Ye.removeChild(a=Ye.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(i=g(a),s=g(e),o=0;null!=(r=s[o]);++o)i[o]&&S(r,i[o]);if(t)if(n)for(s=s||g(e),i=i||g(a),o=0;null!=(r=s[o]);o++)x(r,i[o]);else x(e,a);return i=g(a,"script"),i.length>0&&w(i,!l&&g(e,"script")),i=s=r=null,a},buildFragment:function(e,t,n,i){for(var r,a,o,s,l,c,u,h=e.length,d=m(t),f=[],p=0;h>p;p++)if(a=e[p],a||0===a)if("object"===re.type(a))re.merge(f,a.nodeType?[a]:a);else if(qe.test(a)){for(s=s||d.appendChild(t.createElement("div")),l=(Be.exec(a)||["",""])[1].toLowerCase(),u=Ke[l]||Ke._default,s.innerHTML=u[1]+a.replace(He,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!ne.leadingWhitespace&&Ue.test(a)&&f.push(t.createTextNode(Ue.exec(a)[0])),!ne.tbody)for(a="table"!==l||Ve.test(a)?"<table>"!==u[1]||Ve.test(a)?0:s:s.firstChild,r=a&&a.childNodes.length;r--;)re.nodeName(c=a.childNodes[r],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(re.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=d.lastChild}else f.push(t.createTextNode(a));for(s&&d.removeChild(s),ne.appendChecked||re.grep(g(f,"input"),v),p=0;a=f[p++];)if((!i||-1===re.inArray(a,i))&&(o=re.contains(a.ownerDocument,a),s=g(d.appendChild(a),"script"),o&&w(s),n))for(r=0;a=s[r++];)$e.test(a.type||"")&&n.push(a);return s=null,
d},cleanData:function(e,t){for(var n,i,r,a,o=0,s=re.expando,l=re.cache,c=ne.deleteExpando,u=re.event.special;null!=(n=e[o]);o++)if((t||re.acceptData(n))&&(r=n[s],a=r&&l[r])){if(a.events)for(i in a.events)u[i]?re.event.remove(n,i):re.removeEvent(n,i,a.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==Se?n.removeAttribute(s):n[s]=null,X.push(r))}}}),re.fn.extend({text:function(e){return Ae(this,function(e){return void 0===e?re.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pe).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?re.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||re.cleanData(g(n)),n.parentNode&&(t&&re.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&re.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&re.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(je,""):void 0;if(!("string"!=typeof e||ze.test(e)||!ne.htmlSerialize&&De.test(e)||!ne.leadingWhitespace&&Ue.test(e)||Ke[(Be.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(He,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(re.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,re.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var n,i,r,a,o,s,l=0,c=this.length,u=this,h=c-1,d=e[0],f=re.isFunction(d);if(f||c>1&&"string"==typeof d&&!ne.checkClone&&We.test(d))return this.each(function(n){var i=u.eq(n);f&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(c&&(s=re.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=re.map(g(s,"script"),b),r=a.length;c>l;l++)i=s,l!==h&&(i=re.clone(i,!0,!0),r&&re.merge(a,g(i,"script"))),t.call(this[l],i,l);if(r)for(o=a[a.length-1].ownerDocument,re.map(a,_),l=0;r>l;l++)i=a[l],$e.test(i.type||"")&&!re._data(i,"globalEval")&&re.contains(o,i)&&(i.src?re._evalUrl&&re._evalUrl(i.src):re.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Xe,"")));s=n=null}return this}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var n,i=0,r=[],a=re(e),o=a.length-1;o>=i;i++)n=i===o?this:this.clone(!0),re(a[i])[t](n),Y.apply(r,n.get());return this.pushStack(r)}});var Qe,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=pe.getElementsByTagName("body")[0],n&&n.style?(t=pe.createElement("div"),i=pe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Se&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pe.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var et,tt,nt=/^margin/,it=new RegExp("^("+Ee+")(?!px)[a-z%]+$","i"),rt=/^(top|right|bottom|left)$/;e.getComputedStyle?(et=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tt=function(e,t,n){var i,r,a,o,s=e.style;return n=n||et(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||re.contains(e.ownerDocument,e)||(o=re.style(e,t)),it.test(o)&&nt.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0===o?o:o+""}):pe.documentElement.currentStyle&&(et=function(e){return e.currentStyle},tt=function(e,t,n){var i,r,a,o,s=e.style;return n=n||et(e),o=n?n[t]:void 0,null==o&&s&&s[t]&&(o=s[t]),it.test(o)&&!rt.test(t)&&(i=s.left,r=e.runtimeStyle,a=r&&r.left,a&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=i,a&&(r.left=a)),void 0===o?o:o+""||"auto"}),!function(){function t(){var t,n,i,r;n=pe.getElementsByTagName("body")[0],n&&n.style&&(t=pe.createElement("div"),i=pe.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=o=!1,l=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(pe.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,a,o,s,l;n=pe.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],(i=r&&r.style)&&(i.cssText="float:left;opacity:.5",ne.opacity="0.5"===i.opacity,ne.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,re.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){return null==l&&t(),l}}))}(),re.swap=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=o[a];return r};var at=/alpha\([^)]*\)/i,ot=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,lt=new RegExp("^("+Ee+")(.*)$","i"),ct=new RegExp("^([+-])=("+Ee+")","i"),ut={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"},dt=["Webkit","O","Moz","ms"];re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=re.camelCase(t),l=e.style;if(t=re.cssProps[s]||(re.cssProps[s]=P(l,s)),o=re.cssHooks[t]||re.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t];if(a=typeof n,"string"===a&&(r=ct.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(re.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||re.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var r,a,o,s=re.camelCase(t);return t=re.cssProps[s]||(re.cssProps[s]=P(e.style,s)),o=re.cssHooks[t]||re.cssHooks[s],o&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=tt(e,t,i)),"normal"===a&&t in ht&&(a=ht[t]),""===n||n?(r=parseFloat(a),n===!0||re.isNumeric(r)?r||0:a):a}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,n,i){return n?st.test(re.css(e,"display"))&&0===e.offsetWidth?re.swap(e,ut,function(){return N(e,t,i)}):N(e,t,i):void 0},set:function(e,n,i){var r=i&&et(e);return A(e,n,i?L(e,t,i,ne.boxSizing&&"border-box"===re.css(e,"boxSizing",!1,r),r):0)}}}),ne.opacity||(re.cssHooks.opacity={get:function(e,t){return ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=re.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===re.trim(a.replace(at,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=at.test(a)?a.replace(at,r):a+" "+r)}}),re.cssHooks.marginRight=E(ne.reliableMarginRight,function(e,t){return t?re.swap(e,{display:"inline-block"},tt,[e,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Pe[i]+t]=a[i]||a[i-2]||a[0];return r}},nt.test(e)||(re.cssHooks[e+t].set=A)}),re.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var i,r,a={},o=0;if(re.isArray(t)){for(i=et(e),r=t.length;r>o;o++)a[t[o]]=re.css(e,t[o],!1,i);return a}return void 0!==n?re.style(e,t,n):re.css(e,t)},e,t,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?re(this).show():re(this).hide()})}}),re.Tween=O,O.prototype={constructor:O,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(re.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.pos=t=this.options.duration?re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[re.cssProps[e.prop]]||re.cssHooks[e.prop])?re.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},re.fx=O.prototype.init,re.fx.step={};var ft,pt,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+Ee+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[M],bt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=gt.exec(t),a=r&&r[3]||(re.cssNumber[e]?"":"px"),o=(re.cssNumber[e]||"px"!==a&&+i)&&gt.exec(re.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],r=r||[],o=+i||1;do s=s||".5",o/=s,re.style(n.elem,e,o+a);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(o=n.start=+o||+i||0,n.unit=a,n.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),n}]};re.Animation=re.extend(D,{tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),re.speed=function(e,t,n){var i=e&&"object"==typeof e?re.extend({},e):{complete:n||!n&&t||re.isFunction(e)&&e,duration:e,easing:n&&t||t&&!re.isFunction(t)&&t};return i.duration=re.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in re.fx.speeds?re.fx.speeds[i.duration]:re.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){re.isFunction(i.old)&&i.old.call(this),i.queue&&re.dequeue(this,i.queue)},i},re.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=re.isEmptyObject(e),a=re.speed(t,n,i),o=function(){var t=D(this,re.extend({},e),a);(r||re._data(this,"finish"))&&t.stop(!0)};return o.finish=o,r||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=re.timers,o=re._data(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&vt.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));(t||!n)&&re.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=re._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=re.timers,o=i?i.length:0;for(n.finish=!0,re.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),re.each(["toggle","show","hide"],function(e,t){var n=re.fn[t];re.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,i,r)}}),re.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),re.timers=[],re.fx.tick=function(){var e,t=re.timers,n=0;for(ft=re.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||re.fx.stop(),ft=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){pt||(pt=setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){clearInterval(pt),pt=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(e,t){return e=re.fx?re.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=pe.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=pe.createElement("select"),r=n.appendChild(pe.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(i.getAttribute("style")),ne.hrefNormalized="/a"===i.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=r.selected,ne.enctype=!!pe.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!r.disabled,e=pe.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var _t=/\r/g;re.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=re.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,re(this).val()):e,null==r?r="":"number"==typeof r?r+="":re.isArray(r)&&(r=re.map(r,function(e){return null==e?"":e+""})),t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=re.valHooks[r.type]||re.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(_t,""):null==n?"":n)):void 0}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||0>r,o=a?null:[],s=a?r+1:i.length,l=0>r?s:a?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&re.nodeName(n.parentNode,"optgroup"))){if(t=re(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=re.makeArray(t),o=r.length;o--;)if(i=r[o],re.inArray(re.valHooks.option.get(i),a)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>=0:void 0}},ne.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,xt,St=re.expr.attrHandle,Ct=/^(?:checked|selected)$/i,Tt=ne.getSetAttribute,Et=ne.input;re.fn.extend({attr:function(e,t){return Ae(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,n){var i,r,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?typeof e.getAttribute===Se?re.prop(e,t,n):(1===a&&re.isXMLDoc(e)||(t=t.toLowerCase(),i=re.attrHooks[t]||(re.expr.match.bool.test(t)?xt:wt)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=re.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void re.removeAttr(e,t)):void 0},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(be);if(a&&1===e.nodeType)for(;n=a[r++];)i=re.propFix[n]||n,re.expr.match.bool.test(n)?Et&&Tt||!Ct.test(n)?e[i]=!1:e[re.camelCase("default-"+n)]=e[i]=!1:re.attr(e,n,""),e.removeAttribute(Tt?n:i)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&re.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xt={set:function(e,t,n){return t===!1?re.removeAttr(e,n):Et&&Tt||!Ct.test(n)?e.setAttribute(!Tt&&re.propFix[n]||n,n):e[re.camelCase("default-"+n)]=e[n]=!0,n}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var n=St[t]||re.find.attr;St[t]=Et&&Tt||!Ct.test(t)?function(e,t,i){var r,a;return i||(a=St[t],St[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,St[t]=a),r}:function(e,t,n){return n?void 0:e[re.camelCase("default-"+t)]?t.toLowerCase():null}}),Et&&Tt||(re.attrHooks.value={set:function(e,t,n){return re.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Tt||(wt={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},St.id=St.name=St.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},re.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},re.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},re.each(["width","height"],function(e,t){re.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(re.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Pt=/^(?:input|select|textarea|button|object)$/i,kt=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return Ae(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return e=re.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),re.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,a,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(a=1!==o||!re.isXMLDoc(e),a&&(t=re.propFix[t]||t,r=re.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):Pt.test(e.nodeName)||kt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||re.each(["href","src"],function(e,t){re.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this}),ne.enctype||(re.propFix.enctype="encoding");var At=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,n,i,r,a,o,s=0,l=this.length,c="string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o=re.trim(i),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,i,r,a,o,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(be)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(a=0;r=t[a++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");o=e?re.trim(i):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(re.isFunction(e)?function(n){re(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=re(this),a=e.match(be)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&re._data(this,"__className__",this.className),this.className=this.className||e===!1?"":re._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Lt=re.now(),Nt=/\?/,Ot=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;re.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=re.trim(t+"");return r&&!re.trim(r.replace(Ot,function(e,t,r,a){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!a-!r,"")}))?Function("return "+r)():re.error("Invalid JSON: "+t)},re.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),n};var It,Rt,Ft=/#.*$/,Mt=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ut=/^(?:GET|HEAD)$/,Ht=/^\/\//,Bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vt={},qt={},zt="*/".concat("*");try{Rt=location.href}catch(Wt){Rt=pe.createElement("a"),Rt.href="",Rt=Rt.href}It=Bt.exec(Rt.toLowerCase())||[],re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt,type:"GET",isLocal:Dt.test(It[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,re.ajaxSettings),t):B(re.ajaxSettings,e)},ajaxPrefilter:U(Vt),ajaxTransport:U(qt),ajax:function(e,t){function n(e,t,n,i){var r,u,v,y,_,x=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,o=i||"",w.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=V(h,w,n)),y=q(h,y,w,r),r?(h.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(re.lastModified[a]=_),_=w.getResponseHeader("etag"),_&&(re.etag[a]=_)),204===e||"HEAD"===h.type?x="nocontent":304===e?x="notmodified":(x=y.state,u=y.data,v=y.error,r=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),w.status=e,w.statusText=(t||x)+"",r?p.resolveWith(d,[u,x,w]):p.rejectWith(d,[w,x,v]),w.statusCode(g),g=void 0,l&&f.trigger(r?"ajaxSuccess":"ajaxError",[w,h,r?u:v]),m.fireWith(d,[w,x]),l&&(f.trigger("ajaxComplete",[w,h]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,a,o,s,l,c,u,h=re.ajaxSetup({},t),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?re(d):re.event,p=re.Deferred(),m=re.Callbacks("once memory"),g=h.statusCode||{},v={},y={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=jt.exec(o);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),n(0,t),this}};if(p.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||Rt)+"").replace(Ft,"").replace(Ht,It[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=re.trim(h.dataType||"*").toLowerCase().match(be)||[""],null==h.crossDomain&&(i=Bt.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===It[1]&&i[2]===It[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(It[3]||("http:"===It[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=re.param(h.data,h.traditional)),H(Vt,h,t,w),2===b)return w;l=re.event&&h.global,l&&0===re.active++&&re.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ut.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Nt.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Mt.test(a)?a.replace(Mt,"$1_="+Lt++):a+(Nt.test(a)?"&":"?")+"_="+Lt++)),h.ifModified&&(re.lastModified[a]&&w.setRequestHeader("If-Modified-Since",re.lastModified[a]),re.etag[a]&&w.setRequestHeader("If-None-Match",re.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+zt+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)w.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===b))return w.abort();_="abort";for(r in{success:1,error:1,complete:1})w[r](h[r]);if(c=H(qt,h,t,w)){w.readyState=1,l&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},h.timeout));try{b=1,c.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return re.get(e,t,n,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,n,i,r){return re.isFunction(n)&&(r=r||i,i=n,n=void 0),re.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},re.fn.extend({wrapAll:function(e){if(re.isFunction(e))return this.each(function(t){re(this).wrapAll(e.call(this,t))});if(this[0]){var t=re(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(re.isFunction(e)?function(t){re(this).wrapInner(e.call(this,t))}:function(){var t=re(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(n){re(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||re.css(e,"display"))},re.expr.filters.visible=function(e){return!re.expr.filters.hidden(e)};var $t=/%20/g,Gt=/\[\]$/,Xt=/\r?\n/g,Kt=/^(?:submit|button|image|reset|file)$/i,Jt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var n,i=[],r=function(e,t){t=re.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){r(this.name,this.value)});else for(n in e)z(n,e[n],t,r);return i.join("&").replace($t,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Jt.test(this.nodeName)&&!Kt.test(e)&&(this.checked||!Le.test(e))}).map(function(e,t){var n=re(this).val();return null==n?null:re.isArray(n)?re.map(n,function(e){return{name:t.name,value:e.replace(Xt,"\r\n")}}):{name:t.name,value:n.replace(Xt,"\r\n")}}).get()}}),re.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||$()}:W;var Yt=0,Qt={},Zt=re.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Qt)Qt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&re.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,i){var r,a=e.xhr(),o=++Yt;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)a[r]=e.xhrFields[r];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&a.setRequestHeader(r,n[r]+"");a.send(e.hasContent&&e.data||null),t=function(n,r){var s,l,c;if(t&&(r||4===a.readyState))if(delete Qt[o],t=void 0,a.onreadystatechange=re.noop,r)4!==a.readyState&&a.abort();else{c={},s=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{l=a.statusText}catch(u){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=Qt[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),re.ajaxTransport("script",function(e){
if(e.crossDomain){var t,n=pe.head||re("head")[0]||pe.documentElement;return{send:function(i,r){t=pe.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||re.expando+"_"+Lt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,o,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+r):t.jsonp!==!1&&(t.url+=(Nt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||re.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},i.always(function(){e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,en.push(r)),o&&re.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),re.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pe;var i=he.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=re.buildFragment([e],t,r),r&&r.length&&re(r).remove(),re.merge([],i.childNodes))};var nn=re.fn.load;re.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var i,r,a,o=this,s=e.indexOf(" ");return s>=0&&(i=re.trim(e.slice(s,e.length)),e=e.slice(0,s)),re.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),o.length>0&&re.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){r=arguments,o.html(i?re("<div>").append(re.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){o.each(n,r||[e.responseText,t,e])}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;re.offset={setOffset:function(e,t,n){var i,r,a,o,s,l,c,u=re.css(e,"position"),h=re(e),d={};"static"===u&&(e.style.position="relative"),s=h.offset(),a=re.css(e,"top"),l=re.css(e,"left"),c=("absolute"===u||"fixed"===u)&&re.inArray("auto",[a,l])>-1,c?(i=h.position(),o=i.top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):h.css(d)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],a=r&&r.ownerDocument;return a?(t=a.documentElement,re.contains(t,r)?(typeof r.getBoundingClientRect!==Se&&(i=r.getBoundingClientRect()),n=G(a),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===re.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(n=e.offset()),n.top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(i,"marginTop",!0),left:t.left-n.left-re.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!re.nodeName(e,"html")&&"static"===re.css(e,"position");)e=e.offsetParent;return e||rn})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);re.fn[e]=function(i){return Ae(this,function(e,i,r){var a=G(e);return void 0===r?a?t in a?a[t]:a.document.documentElement[i]:e[i]:void(a?a.scrollTo(n?re(a).scrollLeft():r,n?r:re(a).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=E(ne.pixelPosition,function(e,n){return n?(n=tt(e,t),it.test(n)?re(e).position()[t]+"px":n):void 0})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){re.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(i===!0||r===!0?"margin":"border");return Ae(this,function(t,n,i){var r;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?re.css(t,n,o):re.style(t,n,i,o)},t,a?i:void 0,a,null)}})}),re.fn.size=function(){return this.length},re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var an=e.jQuery,on=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=on),t&&e.jQuery===re&&(e.jQuery=an),re},typeof t===Se&&(e.jQuery=e.$=re),re}),!function(e){function t(e){var t=e.length,i=n.type(e);return"function"===i||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return null!=e&&e==e.window},n.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[o.call(e)]||"object":typeof e},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!a.call(e,"constructor")&&!a.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(t in e);return void 0===t||a.call(e,t)},n.each=function(e,n,i){var r,a=0,o=e.length,s=t(e);if(i){if(s)for(;o>a&&(r=n.apply(e[a],i),r!==!1);a++);else for(a in e)if(r=n.apply(e[a],i),r===!1)break}else if(s)for(;o>a&&(r=n.call(e[a],a,e[a]),r!==!1);a++);else for(a in e)if(r=n.call(e[a],a,e[a]),r===!1)break;return e},n.data=function(e,t,r){if(void 0===r){var a=e[n.expando],o=a&&i[a];if(void 0===t)return o;if(o&&t in o)return o[t]}else if(void 0!==t){var a=e[n.expando]||(e[n.expando]=++n.uuid);return i[a]=i[a]||{},i[a][t]=r,r}},n.removeData=function(e,t){var r=e[n.expando],a=r&&i[r];a&&n.each(t,function(e,t){delete a[t]})},n.extend=function(){var e,t,i,r,a,o,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"!=typeof s&&"function"!==n.type(s)&&(s={}),l===c&&(s=this,l--);c>l;l++)if(null!=(a=arguments[l]))for(r in a)e=s[r],i=a[r],s!==i&&(u&&i&&(n.isPlainObject(i)||(t=n.isArray(i)))?(t?(t=!1,o=e&&n.isArray(e)?e:[]):o=e&&n.isPlainObject(e)?e:{},s[r]=n.extend(u,o,i)):void 0!==i&&(s[r]=i));return s},n.queue=function(e,i,r){function a(e,n){var i=n||[];return null!=e&&(t(Object(e))?!function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e}(i,"string"==typeof e?[e]:e):[].push.call(i,e)),i}if(e){i=(i||"fx")+"queue";var o=n.data(e,i);return r?(!o||n.isArray(r)?o=n.data(e,i,a(r)):o.push(r),o):o||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,i){t=t||"fx";var r=n.queue(i,t),a=r.shift();"inprogress"===a&&(a=r.shift()),a&&("fx"===t&&r.unshift("inprogress"),a.call(i,function(){n.dequeue(i,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),i=this.offset(),r=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:n(e).offset();return i.top-=parseFloat(t.style.marginTop)||0,i.left-=parseFloat(t.style.marginLeft)||0,e.style&&(r.top+=parseFloat(e.style.borderTopWidth)||0,r.left+=parseFloat(e.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};var i={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var r={},a=r.hasOwnProperty,o=r.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<s.length;l++)r["[object "+s[l]+"]"]=s[l].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,n,i){function r(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function a(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function o(e){var t=d.data(e,"velocity");return null===t?i:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function l(e,n,i,r){function a(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function s(e){return 3*e}function l(e,t,n){return((a(t,n)*e+o(t,n))*e+s(t))*e}function c(e,t,n){return 3*a(t,n)*e*e+2*o(t,n)*e+s(t)}function u(t,n){for(var r=0;m>r;++r){var a=c(n,e,i);if(0===a)return n;var o=l(n,e,i)-t;n-=o/a}return n}function h(){for(var t=0;b>t;++t)S[t]=l(t*_,e,i)}function d(t,n,r){var a,o,s=0;do o=n+(r-n)/2,a=l(o,e,i)-t,a>0?r=o:n=o;while(Math.abs(a)>v&&++s<y);return o}function f(t){for(var n=0,r=1,a=b-1;r!=a&&S[r]<=t;++r)n+=_;--r;var o=(t-S[r])/(S[r+1]-S[r]),s=n+o*_,l=c(s,e,i);return l>=g?u(t,s):0==l?s:d(t,n,n+_)}function p(){C=!0,(e!=n||i!=r)&&h()}var m=4,g=.001,v=1e-7,y=10,b=11,_=1/(b-1),w="Float32Array"in t;if(4!==arguments.length)return!1;for(var x=0;4>x;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),i=Math.min(i,1),e=Math.max(e,0),i=Math.max(i,0);var S=w?new Float32Array(b):new Array(b),C=!1,T=function(t){return C||p(),e===n&&i===r?t:0===t?0:1===t?1:l(f(t),n,r)};T.getControlPoints=function(){return[{x:e,y:n},{x:i,y:r}]};var E="generateBezier("+[e,n,i,r]+")";return T.toString=function(){return E},T}function c(e,t){var n=e;return m.isString(e)?b.Easings[e]||(n=!1):n=m.isArray(e)&&1===e.length?s.apply(null,e):m.isArray(e)&&2===e.length?_.apply(null,e.concat([t])):m.isArray(e)&&4===e.length?l.apply(null,e):!1,n===!1&&(n=b.Easings[b.defaults.easing]?b.defaults.easing:y),n}function u(e){if(e){var t=(new Date).getTime(),n=b.State.calls.length;n>1e4&&(b.State.calls=r(b.State.calls));for(var a=0;n>a;a++)if(b.State.calls[a]){var s=b.State.calls[a],l=s[0],c=s[2],f=s[3],p=!!f,g=null;f||(f=b.State.calls[a][3]=t-16);for(var v=Math.min((t-f)/c.duration,1),y=0,_=l.length;_>y;y++){var x=l[y],C=x.element;if(o(C)){var T=!1;if(c.display!==i&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var E=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];d.each(E,function(e,t){w.setPropertyValue(C,"display",t)})}w.setPropertyValue(C,"display",c.display)}c.visibility!==i&&"hidden"!==c.visibility&&w.setPropertyValue(C,"visibility",c.visibility);for(var P in x)if("element"!==P){var k,A=x[P],L=m.isString(A.easing)?b.Easings[A.easing]:A.easing;if(1===v)k=A.endValue;else{var N=A.endValue-A.startValue;if(k=A.startValue+N*L(v,c,N),!p&&k===A.currentValue)continue}if(A.currentValue=k,"tween"===P)g=k;else{if(w.Hooks.registered[P]){var O=w.Hooks.getRoot(P),I=o(C).rootPropertyValueCache[O];I&&(A.rootPropertyValue=I)}var R=w.setPropertyValue(C,P,A.currentValue+(0===parseFloat(k)?"":A.unitType),A.rootPropertyValue,A.scrollData);w.Hooks.registered[P]&&(o(C).rootPropertyValueCache[O]=w.Normalizations.registered[O]?w.Normalizations.registered[O]("extract",null,R[1]):R[1]),"transform"===R[0]&&(T=!0)}}c.mobileHA&&o(C).transformCache.translate3d===i&&(o(C).transformCache.translate3d="(0px, 0px, 0px)",T=!0),T&&w.flushTransformCache(C)}}c.display!==i&&"none"!==c.display&&(b.State.calls[a][2].display=!1),c.visibility!==i&&"hidden"!==c.visibility&&(b.State.calls[a][2].visibility=!1),c.progress&&c.progress.call(s[1],s[1],v,Math.max(0,f+c.duration-t),f,g),1===v&&h(a)}}b.State.isTicking&&S(u)}function h(e,t){if(!b.State.calls[e])return!1;for(var n=b.State.calls[e][0],r=b.State.calls[e][1],a=b.State.calls[e][2],s=b.State.calls[e][4],l=!1,c=0,u=n.length;u>c;c++){var h=n[c].element;if(t||a.loop||("none"===a.display&&w.setPropertyValue(h,"display",a.display),"hidden"===a.visibility&&w.setPropertyValue(h,"visibility",a.visibility)),a.loop!==!0&&(d.queue(h)[1]===i||!/\.velocityQueueEntryFlag/i.test(d.queue(h)[1]))&&o(h)){o(h).isAnimating=!1,o(h).rootPropertyValueCache={};var f=!1;d.each(w.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,r=o(h).transformCache[t];o(h).transformCache[t]!==i&&new RegExp("^\\("+n+"[^.]").test(r)&&(f=!0,delete o(h).transformCache[t])}),a.mobileHA&&(f=!0,delete o(h).transformCache.translate3d),f&&w.flushTransformCache(h),w.Values.removeClass(h,"velocity-animating")}if(!t&&a.complete&&!a.loop&&c===u-1)try{a.complete.call(r,r)}catch(p){setTimeout(function(){throw p},1)}s&&a.loop!==!0&&s(r),a.loop!==!0||t||(d.each(o(h).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),b(h,"reverse",{loop:!0,delay:a.delay})),a.queue!==!1&&d.dequeue(h,a.queue)}b.State.calls[e]=!1;for(var m=0,g=b.State.calls.length;g>m;m++)if(b.State.calls[m]!==!1){l=!0;break}l===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var d,f=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return i}(),p=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-e)),e=i+n,setTimeout(function(){t(i+n)},n)}}(),m={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==i&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},g=!1;if(e.fn&&e.fn.jquery?(d=e,g=!0):d=t.Velocity.Utilities,8>=f&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=f)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,y="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:d,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:y,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){d.data(e,"velocity",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:1},debug:!1};t.pageYOffset!==i?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var _=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},a=t(n,.5*i,r),o=t(n,.5*i,a),s=t(n,i,o),l=1/6*(r.dx+2*(a.dx+o.dx)+s.dx),c=1/6*(r.dv+2*(a.dv+o.dv)+s.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function i(e,t,r){var a,o,s,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,h=1e-4,d=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,r=r||null,l.tension=e,l.friction=t,a=null!==r,a?(u=i(e,t),o=u/r*d):o=d;s=n(s||l,o),c.push(1+s.x),u+=16,Math.abs(s.x)>h&&Math.abs(s.v)>h;);return a?function(e){return c[e*(c.length-1)|0]}:u}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},d.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=l.apply(null,t[1])});var w=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<w.Lists.colors.length;e++){var t="color"===w.Lists.colors[e]?"0 0 0 1":"255 255 255 1";w.Hooks.templates[w.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,i,r;if(f)for(n in w.Hooks.templates){i=w.Hooks.templates[n],r=i[0].split(" ");var a=i[1].match(w.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),a.push(a.shift()),w.Hooks.templates[n]=[r.join(" "),a.join(" ")])}for(n in w.Hooks.templates){i=w.Hooks.templates[n],r=i[0].split(" ");for(var e in r){var o=n+r[e],s=e;w.Hooks.registered[o]=[n,s]}}},getRoot:function(e){var t=w.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return w.RegEx.valueUnwrap.test(t)&&(t=t.match(w.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(t)&&(t=w.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=w.Hooks.registered[e];if(n){var i=n[0],r=n[1];return t=w.Hooks.cleanRootPropertyValue(i,t),t.toString().match(w.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var i=w.Hooks.registered[e];if(i){var r,a,o=i[0],s=i[1];return n=w.Hooks.cleanRootPropertyValue(o,n),r=n.toString().match(w.RegEx.valueSplit),r[s]=t,a=r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return w.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(w.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=r?r[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(8>=f)switch(e){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=f||b.State.isGingerbread||(w.Lists.transformsBase=w.Lists.transformsBase.concat(w.Lists.transforms3D));for(var e=0;e<w.Lists.transformsBase.length;e++)!function(){var t=w.Lists.transformsBase[e];w.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return"transform";case"extract":return o(n)===i||o(n).transformCache[t]===i?/^scale/i.test(t)?1:0:o(n).transformCache[t].replace(/[()]/g,"");case"inject":var a=!1;switch(t.substr(0,t.length-1)){case"translate":a=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":b.State.isAndroid&&o(n).transformCache[t]===i&&1>r&&(r=1),a=!/(\d)$/i.test(r);break;case"skew":a=!/(deg|\d)$/i.test(r);break;case"rotate":a=!/(deg|\d)$/i.test(r)}return a||(o(n).transformCache[t]="("+r+")"),o(n).transformCache[t]}}}();for(var e=0;e<w.Lists.colors.length;e++)!function(){var t=w.Lists.colors[e];w.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return t;case"extract":var a;if(w.RegEx.wrappedValueAlreadyExtracted.test(r))a=r;else{var o,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?o=s[r]!==i?s[r]:s.black:w.RegEx.isHex.test(r)?o="rgb("+w.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(o=s.black),a=(o||r).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=f||3!==a.split(" ").length||(a+=" 1"),a;case"inject":return 8>=f?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=f?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(f||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;i>n;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),m.isString(b.State.prefixElement.style[r]))return b.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=i.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,n,r,a){function s(e,n){function r(){c&&w.setPropertyValue(e,"display","none")}var l=0;if(8>=f)l=d.css(e,n);else{var c=!1;if(/^(width|height)$/.test(n)&&0===w.getPropertyValue(e,"display")&&(c=!0,w.setPropertyValue(e,"display",w.Values.getDisplayType(e))),!a){if("height"===n&&"border-box"!==w.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetHeight-(parseFloat(w.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(e,"paddingBottom"))||0);return r(),u}if("width"===n&&"border-box"!==w.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var h=e.offsetWidth-(parseFloat(w.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(e,"paddingRight"))||0);return r(),h}}var p;p=o(e)===i?t.getComputedStyle(e,null):o(e).computedStyle?o(e).computedStyle:o(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),l=9===f&&"filter"===n?p.getPropertyValue(n):p[n],(""===l||null===l)&&(l=e.style[n]),r()}if("auto"===l&&/^(top|right|bottom|left)$/i.test(n)){var m=s(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(n))&&(l=d(e).position()[n]+"px")}return l}var l;if(w.Hooks.registered[n]){var c=n,u=w.Hooks.getRoot(c);r===i&&(r=w.getPropertyValue(e,w.Names.prefixCheck(u)[0])),w.Normalizations.registered[u]&&(r=w.Normalizations.registered[u]("extract",e,r)),l=w.Hooks.extractValue(c,r)}else if(w.Normalizations.registered[n]){var h,p;h=w.Normalizations.registered[n]("name",e),"transform"!==h&&(p=s(e,w.Names.prefixCheck(h)[0]),w.Values.isCSSNullValue(p)&&w.Hooks.templates[n]&&(p=w.Hooks.templates[n][1])),l=w.Normalizations.registered[n]("extract",e,p)}if(!/^[\d-]/.test(l))if(o(e)&&o(e).isSVG&&w.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{l=e.getBBox()[n]}catch(m){l=0}else l=e.getAttribute(n);else l=s(e,w.Names.prefixCheck(n)[0]);return w.Values.isCSSNullValue(l)&&(l=0),b.debug>=2&&console.log("Get "+n+": "+l),l},setPropertyValue:function(e,n,i,r,a){var s=n;if("scroll"===n)a.container?a.container["scroll"+a.direction]=i:"Left"===a.direction?t.scrollTo(i,a.alternateValue):t.scrollTo(a.alternateValue,i);else if(w.Normalizations.registered[n]&&"transform"===w.Normalizations.registered[n]("name",e))w.Normalizations.registered[n]("inject",e,i),s="transform",i=o(e).transformCache[n];else{if(w.Hooks.registered[n]){var l=n,c=w.Hooks.getRoot(n);r=r||w.getPropertyValue(e,c),i=w.Hooks.injectValue(l,i,r),n=c}if(w.Normalizations.registered[n]&&(i=w.Normalizations.registered[n]("inject",e,i),n=w.Normalizations.registered[n]("name",e)),s=w.Names.prefixCheck(n)[0],8>=f)try{e.style[s]=i}catch(u){b.debug&&console.log("Browser does not support ["+i+"] for ["+s+"]")}else o(e)&&o(e).isSVG&&w.Names.SVGAttribute(n)?e.setAttribute(n,i):e.style[s]=i;b.debug>=2&&console.log("Set "+n+" ("+s+"): "+i)}return[s,i]},flushTransformCache:function(e){function t(t){return parseFloat(w.getPropertyValue(e,t))}var n="";if((f||b.State.isAndroid&&!b.State.isChrome)&&o(e).isSVG){var i={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};d.each(o(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(n+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var r,a;d.each(o(e).transformCache,function(t){return r=o(e).transformCache[t],"transformPerspective"===t?(a=r,!0):(9===f&&"rotateZ"===t&&(t="rotate"),void(n+=t+r+" "))}),a&&(n="perspective"+a+" "+n)}w.setPropertyValue(e,"transform",n)}};w.Hooks.register(),w.Normalizations.register(),b.hook=function(e,t,n){var r=i;return e=a(e),d.each(e,function(e,a){if(o(a)===i&&b.init(a),n===i)r===i&&(r=b.CSS.getPropertyValue(a,t));else{var s=b.CSS.setPropertyValue(a,t,n);"transform"===s[0]&&b.CSS.flushTransformCache(a),r=s}}),r};var x=function(){function e(){return s?P.promise||null:l}function r(){function e(e){function h(e,t){var n=i,r=i,o=i;return m.isArray(e)?(n=e[0],!m.isArray(e[1])&&/^[\d-]/.test(e[1])||m.isFunction(e[1])||w.RegEx.isHex.test(e[1])?o=e[1]:(m.isString(e[1])&&!w.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(r=t?e[1]:c(e[1],s.duration),e[2]!==i&&(o=e[2]))):n=e,t||(r=r||s.easing),m.isFunction(n)&&(n=n.call(a,C,S)),m.isFunction(o)&&(o=o.call(a,C,S)),[n||0,r,o]}function f(e,t){var n,i;return i=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=w.Values.getUnitType(e)),[i,n]}function v(){var e={myParent:a.parentNode||n.body,position:w.getPropertyValue(a,"position"),fontSize:w.getPropertyValue(a,"fontSize")},i=e.position===R.lastPosition&&e.myParent===R.lastParent,r=e.fontSize===R.lastFontSize;R.lastParent=e.myParent,R.lastPosition=e.position,R.lastFontSize=e.fontSize;var s=100,l={};if(r&&i)l.emToPx=R.lastEmToPx,l.percentToPxWidth=R.lastPercentToPxWidth,l.percentToPxHeight=R.lastPercentToPxHeight;else{var c=o(a).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");b.init(c),e.myParent.appendChild(c),d.each(["overflow","overflowX","overflowY"],function(e,t){b.CSS.setPropertyValue(c,t,"hidden")}),b.CSS.setPropertyValue(c,"position",e.position),b.CSS.setPropertyValue(c,"fontSize",e.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),d.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){b.CSS.setPropertyValue(c,t,s+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",s+"em"),l.percentToPxWidth=R.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(c,"width",null,!0))||1)/s,l.percentToPxHeight=R.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(c,"height",null,!0))||1)/s,l.emToPx=R.lastEmToPx=(parseFloat(w.getPropertyValue(c,"paddingLeft"))||1)/s,e.myParent.removeChild(c)}return null===R.remToPx&&(R.remToPx=parseFloat(w.getPropertyValue(n.body,"fontSize"))||16),null===R.vwToPx&&(R.vwToPx=parseFloat(t.innerWidth)/100,R.vhToPx=parseFloat(t.innerHeight)/100),l.remToPx=R.remToPx,l.vwToPx=R.vwToPx,l.vhToPx=R.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(l),a),l}if(s.begin&&0===C)try{s.begin.call(p,p)}catch(_){setTimeout(function(){throw _},1)}if("scroll"===k){var x,T,E,A=/^x$/i.test(s.axis)?"Left":"Top",L=parseFloat(s.offset)||0;s.container?m.isWrapped(s.container)||m.isNode(s.container)?(s.container=s.container[0]||s.container,x=s.container["scroll"+A],E=x+d(a).position()[A.toLowerCase()]+L):s.container=null:(x=b.State.scrollAnchor[b.State["scrollProperty"+A]],T=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===A?"Top":"Left")]],E=d(a).offset()[A.toLowerCase()]+L),l={scroll:{rootPropertyValue:!1,startValue:x,currentValue:x,endValue:E,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:A,alternateValue:T}},element:a},b.debug&&console.log("tweensContainer (scroll): ",l.scroll,a)}else if("reverse"===k){if(!o(a).tweensContainer)return void d.dequeue(a,s.queue);"none"===o(a).opts.display&&(o(a).opts.display="auto"),"hidden"===o(a).opts.visibility&&(o(a).opts.visibility="visible"),o(a).opts.loop=!1,o(a).opts.begin=null,o(a).opts.complete=null,y.easing||delete s.easing,y.duration||delete s.duration,s=d.extend({},o(a).opts,s);var N=d.extend(!0,{},o(a).tweensContainer);for(var O in N)if("element"!==O){var I=N[O].startValue;N[O].startValue=N[O].currentValue=N[O].endValue,N[O].endValue=I,m.isEmptyObject(y)||(N[O].easing=s.easing),b.debug&&console.log("reverse tweensContainer ("+O+"): "+JSON.stringify(N[O]),a);

}l=N}else if("start"===k){var N;o(a).tweensContainer&&o(a).isAnimating===!0&&(N=o(a).tweensContainer),d.each(g,function(e,t){if(RegExp("^"+w.Lists.colors.join("$|^")+"$").test(e)){var n=h(t,!0),r=n[0],a=n[1],o=n[2];if(w.RegEx.isHex.test(r)){for(var s=["Red","Green","Blue"],l=w.Values.hexToRgb(r),c=o?w.Values.hexToRgb(o):i,u=0;u<s.length;u++){var d=[l[u]];a&&d.push(a),c!==i&&d.push(c[u]),g[e+s[u]]=d}delete g[e]}}});for(var M in g){var j=h(g[M]),D=j[0],U=j[1],H=j[2];M=w.Names.camelCase(M);var B=w.Hooks.getRoot(M),V=!1;if(o(a).isSVG||"tween"===B||w.Names.prefixCheck(B)[1]!==!1||w.Normalizations.registered[B]!==i){(s.display!==i&&null!==s.display&&"none"!==s.display||s.visibility!==i&&"hidden"!==s.visibility)&&/opacity|filter/.test(M)&&!H&&0!==D&&(H=0),s._cacheValues&&N&&N[M]?(H===i&&(H=N[M].endValue+N[M].unitType),V=o(a).rootPropertyValueCache[B]):w.Hooks.registered[M]?H===i?(V=w.getPropertyValue(a,B),H=w.getPropertyValue(a,M,V)):V=w.Hooks.templates[B][1]:H===i&&(H=w.getPropertyValue(a,M));var q,z,W,$=!1;if(q=f(M,H),H=q[0],W=q[1],q=f(M,D),D=q[0].replace(/^([+-\/*])=/,function(e,t){return $=t,""}),z=q[1],H=parseFloat(H)||0,D=parseFloat(D)||0,"%"===z&&(/^(fontSize|lineHeight)$/.test(M)?(D/=100,z="em"):/^scale/.test(M)?(D/=100,z=""):/(Red|Green|Blue)$/i.test(M)&&(D=D/100*255,z="")),/[\/*]/.test($))z=W;else if(W!==z&&0!==H)if(0===D)z=W;else{r=r||v();var G=/margin|padding|left|right|width|text|word|letter/i.test(M)||/X$/.test(M)||"x"===M?"x":"y";switch(W){case"%":H*="x"===G?r.percentToPxWidth:r.percentToPxHeight;break;case"px":break;default:H*=r[W+"ToPx"]}switch(z){case"%":H*=1/("x"===G?r.percentToPxWidth:r.percentToPxHeight);break;case"px":break;default:H*=1/r[z+"ToPx"]}}switch($){case"+":D=H+D;break;case"-":D=H-D;break;case"*":D=H*D;break;case"/":D=H/D}l[M]={rootPropertyValue:V,startValue:H,currentValue:H,endValue:D,unitType:z,easing:U},b.debug&&console.log("tweensContainer ("+M+"): "+JSON.stringify(l[M]),a)}else b.debug&&console.log("Skipping ["+B+"] due to a lack of browser support.")}l.element=a}l.element&&(w.Values.addClass(a,"velocity-animating"),F.push(l),""===s.queue&&(o(a).tweensContainer=l,o(a).opts=s),o(a).isAnimating=!0,C===S-1?(b.State.calls.push([F,p,s,null,P.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,u())):C++)}var r,a=this,s=d.extend({},b.defaults,y),l={};switch(o(a)===i&&b.init(a),parseFloat(s.delay)&&s.queue!==!1&&d.queue(a,s.queue,function(e){b.velocityQueueEntryFlag=!0,o(a).delayTimer={setTimeout:setTimeout(e,parseFloat(s.delay)),next:e}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=v;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}b.mock!==!1&&(b.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(b.mock)||1,s.delay*=parseFloat(b.mock)||1)),s.easing=c(s.easing,s.duration),s.begin&&!m.isFunction(s.begin)&&(s.begin=null),s.progress&&!m.isFunction(s.progress)&&(s.progress=null),s.complete&&!m.isFunction(s.complete)&&(s.complete=null),s.display!==i&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=b.CSS.Values.getDisplayType(a))),s.visibility!==i&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,s.queue===!1?s.delay?setTimeout(e,s.delay):e():d.queue(a,s.queue,function(t,n){return n===!0?(P.promise&&P.resolver(p),!0):(b.velocityQueueEntryFlag=!0,void e(t))}),""!==s.queue&&"fx"!==s.queue||"inprogress"===d.queue(a)[0]||d.dequeue(a)}var s,l,f,p,g,y,_=arguments[0]&&(arguments[0].p||d.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(s=!1,f=0,p=this,l=this):(s=!0,f=1,p=_?arguments[0].elements||arguments[0].e:arguments[0]),p=a(p)){_?(g=arguments[0].properties||arguments[0].p,y=arguments[0].options||arguments[0].o):(g=arguments[f],y=arguments[f+1]);var S=p.length,C=0;if(!/^(stop|finish)$/i.test(g)&&!d.isPlainObject(y)){var T=f+1;y={};for(var E=T;E<arguments.length;E++)m.isArray(arguments[E])||!/^(fast|normal|slow)$/i.test(arguments[E])&&!/^\d/.test(arguments[E])?m.isString(arguments[E])||m.isArray(arguments[E])?y.easing=arguments[E]:m.isFunction(arguments[E])&&(y.complete=arguments[E]):y.duration=arguments[E]}var P={promise:null,resolver:null,rejecter:null};s&&b.Promise&&(P.promise=new b.Promise(function(e,t){P.resolver=e,P.rejecter=t}));var k;switch(g){case"scroll":k="scroll";break;case"reverse":k="reverse";break;case"finish":case"stop":d.each(p,function(e,t){o(t)&&o(t).delayTimer&&(clearTimeout(o(t).delayTimer.setTimeout),o(t).delayTimer.next&&o(t).delayTimer.next(),delete o(t).delayTimer)});var A=[];return d.each(b.State.calls,function(e,t){t&&d.each(t[1],function(n,r){var a=y===i?"":y;return a===!0||t[2].queue===a||y===i&&t[2].queue===!1?void d.each(p,function(n,i){i===r&&((y===!0||m.isString(y))&&(d.each(d.queue(i,m.isString(y)?y:""),function(e,t){m.isFunction(t)&&t(null,!0)}),d.queue(i,m.isString(y)?y:"",[])),"stop"===g?(o(i)&&o(i).tweensContainer&&a!==!1&&d.each(o(i).tweensContainer,function(e,t){t.endValue=t.currentValue}),A.push(e)):"finish"===g&&(t[2].duration=1))}):!0})}),"stop"===g&&(d.each(A,function(e,t){h(t,!0)}),P.promise&&P.resolver(p)),e();default:if(!d.isPlainObject(g)||m.isEmptyObject(g)){if(m.isString(g)&&b.Redirects[g]){var L=d.extend({},y),N=L.duration,O=L.delay||0;return L.backwards===!0&&(p=d.extend(!0,[],p).reverse()),d.each(p,function(e,t){parseFloat(L.stagger)?L.delay=O+parseFloat(L.stagger)*e:m.isFunction(L.stagger)&&(L.delay=O+L.stagger.call(t,e,S)),L.drag&&(L.duration=parseFloat(N)||(/^(callout|transition)/.test(g)?1e3:v),L.duration=Math.max(L.duration*(L.backwards?1-e/S:(e+1)/S),.75*L.duration,200)),b.Redirects[g].call(t,t,L||{},e,S,p,P.promise?P:i)}),e()}var I="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return P.promise?P.rejecter(new Error(I)):console.log(I),e()}k="start"}var R={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},F=[];d.each(p,function(e,t){m.isNode(t)&&r.call(t)});var M,L=d.extend({},b.defaults,y);if(L.loop=parseInt(L.loop),M=2*L.loop-1,L.loop)for(var j=0;M>j;j++){var D={delay:L.delay,progress:L.progress};j===M-1&&(D.display=L.display,D.visibility=L.visibility,D.complete=L.complete),x(p,"reverse",D)}return e()}};b=d.extend(x,b),b.animate=x;var S=t.requestAnimationFrame||p;return b.State.isMobile||n.hidden===i||n.addEventListener("visibilitychange",function(){n.hidden?(S=function(e){return setTimeout(function(){e(!0)},16)},u()):S=t.requestAnimationFrame||p}),e.Velocity=b,e!==t&&(e.fn.velocity=x,e.fn.velocity.defaults=b.defaults),d.each(["Down","Up"],function(e,t){b.Redirects["slide"+t]=function(e,n,r,a,o,s){var l=d.extend({},n),c=l.begin,u=l.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},f={};l.display===i&&(l.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){c&&c.call(o,o);for(var n in h){f[n]=e.style[n];var i=b.CSS.getPropertyValue(e,n);h[n]="Down"===t?[i,0]:[0,i]}f.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in f)e.style[t]=f[t];u&&u.call(o,o),s&&s.resolver(o)},b(e,h,l)}}),d.each(["In","Out"],function(e,t){b.Redirects["fade"+t]=function(e,n,r,a,o,s){var l=d.extend({},n),c={opacity:"In"===t?1:0},u=l.complete;l.complete=r!==a-1?l.begin=null:function(){u&&u.call(o,o),s&&s.resolver(o)},l.display===i&&(l.display="In"===t?"auto":"none"),b(this,c,l)}}),b}(window.jQuery||window.Zepto||window,window,document)}),function(){"use strict";var e=this,t=e.Chart,n=function(e){this.canvas=e.canvas,this.ctx=e;var t=function(e,t){return e["offset"+t]?e["offset"+t]:document.defaultView.getComputedStyle(e).getPropertyValue(t)},n=this.width=t(e.canvas,"Width"),r=this.height=t(e.canvas,"Height");e.canvas.width=n,e.canvas.height=r;var n=this.width=e.canvas.width,r=this.height=e.canvas.height;return this.aspectRatio=this.width/this.height,i.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var i=n.helpers={},r=i.each=function(e,t,n){var i=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var r;for(r=0;r<e.length;r++)t.apply(n,[e[r],r].concat(i))}else for(var a in e)t.apply(n,[e[a],a].concat(i))},a=i.clone=function(e){var t={};return r(e,function(n,i){e.hasOwnProperty(i)&&(t[i]=n)}),t},o=i.extend=function(e){return r(Array.prototype.slice.call(arguments,1),function(t){r(t,function(n,i){t.hasOwnProperty(i)&&(e[i]=n)})}),e},s=i.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),o.apply(null,e)},l=i.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=(i.where=function(e,t){var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findNextWhere=function(e,t,n){n||(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},i.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=c,e&&o(n.prototype,e),n.__super__=t.prototype,n}),u=i.noop=function(){},h=i.uid=function(){var e=0;return function(){return"chart-"+e++}}(),d=i.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},f=i.amd="function"==typeof define&&define.amd,p=i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},m=i.max=function(e){return Math.max.apply(Math,e)},g=i.min=function(e){return Math.min.apply(Math,e)},v=(i.cap=function(e,t,n){if(p(t)){if(e>t)return t}else if(p(n)&&n>e)return n;return e},i.getDecimalPlaces=function(e){return e%1!==0&&p(e)?e.toString().split(".")[1].length:0}),y=i.radians=function(e){return e*(Math.PI/180)},b=(i.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),a=2*Math.PI+Math.atan2(i,n);return 0>n&&0>i&&(a+=2*Math.PI),{angle:a,distance:r}},i.aliasPixel=function(e){return e%2===0?0:.5}),_=(i.splineCurve=function(e,t,n,i){var r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),a=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),o=i*r/(r+a),s=i*a/(r+a);return{inner:{x:t.x-o*(n.x-e.x),y:t.y-o*(n.y-e.y)},outer:{x:t.x+s*(n.x-e.x),y:t.y+s*(n.y-e.y)}}},i.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),w=(i.calculateScaleRange=function(e,t,n,i,r){var a=2,o=Math.floor(t/(1.5*n)),s=a>=o,l=m(e),c=g(e);l===c&&(l+=.5,c>=.5&&!i?c-=.5:l+=.5);for(var u=Math.abs(l-c),h=_(u),d=Math.ceil(l/(1*Math.pow(10,h)))*Math.pow(10,h),f=i?0:Math.floor(c/(1*Math.pow(10,h)))*Math.pow(10,h),p=d-f,v=Math.pow(10,h),y=Math.round(p/v);(y>o||o>2*y)&&!s;)if(y>o)v*=2,y=Math.round(p/v),y%1!==0&&(s=!0);else if(r&&h>=0){if(v/2%1!==0)break;v/=2,y=Math.round(p/v)}else v/=2,y=Math.round(p/v);return s&&(y=a,v=p/y),{steps:y,stepValue:v,min:f,max:f+y*v}},i.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[e]=i[e];return t?n(t):n}if(e instanceof Function)return e(t);var i={};return n(e,t)}),x=(i.generateLabels=function(e,t,n,i){var a=new Array(t);return labelTemplateString&&r(a,function(t,r){a[r]=w(e,{value:n+i*(r+1)})}),a},i.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):i*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-x.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*x.easeInBounce(2*e):.5*x.easeOutBounce(2*e-1)+.5}}),S=i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),C=i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),T=(i.animationLoop=function(e,t,n,i,r,a){var o=0,s=x[n]||x.linear,l=function(){o++;var n=o/t,c=s(n);e.call(a,c,n,o),i.call(a,c,n),t>o?a.animationFrame=S(l):r.apply(a)};S(l)},i.getRelativePosition=function(e){var t,n,i=e.originalEvent||e,r=e.currentTarget||e.srcElement,a=r.getBoundingClientRect();return i.touches?(t=i.touches[0].clientX-a.left,n=i.touches[0].clientY-a.top):(t=i.clientX-a.left,n=i.clientY-a.top),{x:t,y:n}},i.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),E=i.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=u},P=(i.bindEvents=function(e,t,n){e.events||(e.events={}),r(t,function(t){e.events[t]=function(){n.apply(e,arguments)},T(e.chart.canvas,t,e.events[t])})},i.unbindEvents=function(e,t){r(t,function(t,n){E(e.chart.canvas,n,t)})}),k=i.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},A=i.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},L=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,i=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=i+"px",t.canvas.height=i*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),N=i.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},O=i.fontString=function(e,t,n){return t+" "+e+"px "+n},I=i.longestText=function(e,t,n){e.font=t;var i=0;return r(n,function(t){var n=e.measureText(t).width;i=n>i?n:i}),i},R=i.drawRoundedRectangle=function(e,t,n,i,r,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+a),e.lineTo(t+i,n+r-a),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()};n.instances={},n.Type=function(e,t,i){this.options=t,this.chart=i,this.id=h(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},o(n.Type.prototype,{initialize:function(){return this},clear:function(){return N(this.chart),this},stop:function(){return C(this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=k(this.chart.canvas),i=this.options.maintainAspectRatio?n/this.chart.aspectRatio:A(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=i,L(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(e){return e&&this.reflow(),this.options.animation&&!e?i.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return w(this.options.legendTemplate,this)},destroy:function(){this.clear(),P(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var a=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(r(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(a||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var o,s,c=this.datasets.length-1;c>=0&&(o=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,s=l(o,e[0]),-1===s);c--);var u=[],h=[],d=function(){var e,t,n,r,a,o=[],l=[],c=[];return i.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[s]&&e[s].hasValue()&&o.push(e[s])}),i.each(o,function(e){l.push(e.x),c.push(e.y),u.push(i.template(this.options.multiTooltipTemplate,e)),h.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),a=g(c),n=m(c),r=g(l),t=m(l),{x:r>this.chart.width/2?r:t,y:(a+n)/2}}.call(this,s);new n.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:u,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else r(e,function(e){var t=e.tooltipPosition();new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:w(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,i=function(){return t.apply(this,arguments)};if(i.prototype=a(t.prototype),o(i.prototype,e),i.extend=n.Type.extend,e.name||t.prototype.name){var r=e.name||t.prototype.name,l=n.defaults[t.prototype.name]?a(n.defaults[t.prototype.name]):{};n.defaults[r]=o(l,e.defaults),n.types[r]=i,n.prototype[r]=function(e,t){var a=s(n.defaults.global,n.defaults[r],t||{});return new i(e,a,this)}}else d("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){o(this,e),this.initialize.apply(this,arguments),this.save()},o(n.Element.prototype,{initialize:function(){},restore:function(e){return e?r(e,function(e){this[e]=this._saved[e]},this):o(this,this._saved),this},save:function(){return this._saved=a(this),delete this._saved._saved,this},update:function(e){return r(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return r(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return p(this.value)}}),n.Element.extend=c,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var n=i.getAngleFromPoint(this,{x:e,y:t}),r=n.angle>=this.startAngle&&n.angle<=this.endAngle,a=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return r&&a},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,i=this.x+t,r=this.base-(this.base-this.y),a=this.strokeWidth/2;this.showStroke&&(n+=a,i-=a,r+=a),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,r),e.lineTo(i,r),e.lineTo(i,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,i=this.fontSize+2*this.yPadding,r=i+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-r<0&&(this.yAlign="below");var a=this.x-n/2,o=this.y-r;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":o=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":a=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":a=this.x-(this.cornerRadius+this.caretHeight)}R(e,a,o,n,i,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,a+n/2,o+i/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=O(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=I(this.ctx,this.font,this.labels)+this.fontSize+3,n=m([t,e]);this.width=n+2*this.xPadding;var i=this.height/2;this.y-i<0?this.y=i:this.y+i>this.chart.height&&(this.y=this.chart.height-i),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{R(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,i.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(w(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?I(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,i=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=i/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var r,a=I(this.ctx,this.font,this.xLabels);this.xLabelWidth=a;for(var o=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>o&&0===this.xLabelRotation||this.xLabelWidth>o&&this.xLabelRotation<=90&&this.xLabelRotation>0;)r=Math.cos(y(this.xLabelRotation)),e=r*n,t=r*i,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=r*a;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*a+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/Math.max(this.valuesCount-(this.offsetGridLines?0:1),1),i=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(i+=n/2),Math.round(i)},update:function(e){i.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,r(this.yLabels,function(r,a){var o=this.endPoint-t*a,s=Math.round(o),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(r,n-10,o),0!==a||l||(l=!0),l&&e.beginPath(),a>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s+=i.aliasPixel(e.lineWidth),l&&(e.moveTo(n,s),e.lineTo(this.width,s),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,s),e.lineTo(n,s),e.stroke(),e.closePath()},this),r(this.xLabels,function(t,n){var i=this.calculateX(n)+b(this.lineWidth),r=this.calculateX(n-(this.offsetGridLines?.5:0))+b(this.lineWidth),a=this.xLabelRotation>0,o=this.showVerticalLines;0!==n||o||(o=!0),o&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),o&&(e.moveTo(r,this.endPoint),e.lineTo(r,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(r,this.endPoint),e.lineTo(r,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(i,a?this.endPoint+12:this.endPoint+8),e.rotate(-1*y(this.xLabelRotation)),e.font=this.font,e.textAlign=a?"right":"center",e.textBaseline=a?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=g([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(w(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));

},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,i,r,a,o,s,l,c,u,h,d=g([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,m=0;for(this.ctx.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,d),n=this.ctx.measureText(w(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(i=n/2,e.x+i>f&&(f=e.x+i,r=t),e.x-i<m&&(m=e.x-i,o=t)):t<this.valuesCount/2?e.x+n>f&&(f=e.x+n,r=t):t>this.valuesCount/2&&e.x-n<m&&(m=e.x-n,o=t);l=m,c=Math.ceil(f-this.width),a=this.getIndexAngle(r),s=this.getIndexAngle(o),u=c/Math.sin(a+Math.PI/2),h=l/Math.sin(s+Math.PI/2),u=p(u)?u:0,h=p(h)?h:0,this.drawingArea=d-(h+u)/2,this.setCenterPoint(h,u)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,i=e+this.drawingArea;this.xCenter=(i+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(r(this.yLabels,function(t,n){if(n>0){var i,r=n*(this.drawingArea/this.steps),a=this.yCenter-r;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,r,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var o=0;o<this.valuesCount;o++)i=this.getPointPosition(o,this.calculateCenterOffset(this.min+n*this.stepValue)),0===o?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var s=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-s/2-this.backdropPaddingX,a-this.fontSize/2-this.backdropPaddingY,s+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,a)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var i=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var a=this.labels.length,o=this.labels.length/2,s=o/2,l=s>t||t>a-s,c=t===s||t===a-s;e.textAlign=0===t?"center":t===o?"center":o>t?"left":"right",e.textBaseline=c?"middle":l?"bottom":"top",e.fillText(this.labels[t],i.x,i.y)}}}}}),i.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){r(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),f?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:i,initialize:function(e){var i=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var r=this.calculateBaseWidth(),a=this.calculateX(n)-r/2,o=this.calculateBarWidth(e);return a+o*t+t*i.barDatasetSpacing+o/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*i.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*i.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.bars.push(new this.BarClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,i){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,i,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,i){n.each(t.bars,e,this,i)},this)},getBarsAtEvent:function(e){for(var t,i=[],r=n.getRelativePosition(e),a=function(e){i.push(e.bars[t])},o=0;o<this.datasets.length;o++)for(t=0;t<this.datasets[o].bars.length;t++)if(this.datasets[o].bars[t].inRange(r.x,r.y))return n.each(this.datasets,a),i;return i},buildScale:function(e){var t=this,i=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(r,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(r)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear(),this.chart.ctx,this.scale.draw(t),n.each(this.datasets,function(e,i){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,i,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:i,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(i.x,i.y)&&t.push(e)},this),t},addData:function(e,t,n){var i=t||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(Math.abs(e)/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=Math.abs(e.value)},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(i,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:i,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.points.push(new this.PointClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(i.x,i.y)&&t.push(e)})},this),t},buildScale:function(e){var i=this,r=function(){var e=[];return i.eachPoints(function(t){e.push(t.value)}),e},a={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(r(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(a,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(a)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var i=this.chart.ctx,r=function(e){return null!==e.value},a=function(e,t,i){return n.findNextWhere(t,r,i)||e},o=function(e,t,i){return n.findPreviousWhere(t,r,i)||e};this.scale.draw(t),n.each(this.datasets,function(e){var s=n.where(e.points,r);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(s,function(e,t){var i=t>0&&t<s.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(o(e,s,t),e,a(e,s,t),i),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),n.each(s,function(e,t){if(0===t)i.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=o(e,s,t);i.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else i.lineTo(e.x,e.y)},this),i.stroke(),this.options.datasetFill&&s.length>0&&(i.lineTo(s[s.length-1].x,this.scale.endPoint),i.lineTo(s[0].x,this.scale.endPoint),i.fillStyle=e.fillColor,i.closePath(),i.fill()),n.each(s,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:i,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(i.x,i.y)&&t.push(e)},this),t},addData:function(e,t,n){var i=t||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,i,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(i),n.each(t.data,function(n,r){var a;this.scale.animation||(a=this.scale.getPointPosition(r,this.scale.calculateCenterOffset(n))),i.points.push(new this.PointClass({value:n,label:e.labels[r],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:a.x,y:this.options.animation?this.scale.yCenter:a.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),i=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),r=2*Math.PI/this.scale.valuesCount,a=Math.round((i.angle-1.5*Math.PI)/r),o=[];return(a>=this.scale.valuesCount||0>a)&&(a=0),i.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){o.push(e.points[a])}),o},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,i)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:i.x,y:i.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,i=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),n.each(e.points,function(e,t){0===t?i.moveTo(e.x,e.y):i.lineTo(e.x,e.y)},this),i.closePath(),i.stroke(),i.fillStyle=e.fillColor,i.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),initializeParse(),userRedirect(),isLightTheme()?$("head").append('<link title="lighttheme" rel="stylesheet" href="./style/lightstyle.css" type="text/css" />'):$('link[title="lighttheme"]').remove();var quandl_auth_token="xmsbLW6U7n_hwi8NxXnp",metal_bidask_url=["https://www.quandl.com/api/v1/datasets/PERTH/GOLD_USD_M.json?rows=7&auth_token="+quandl_auth_token,"https://www.quandl.com/api/v1/datasets/PERTH/SLVR_USD_D.json?rows=7&auth_token="+quandl_auth_token,"https://www.quandl.com/api/v1/datasets/PERTH/PLAT_USD_M.json?rows=7&auth_token="+quandl_auth_token],metal_pct_chg_url=["https://www.quandl.com/api/v1/datasets/PERTH/GOLD_USD_D.json?rows=1&transformation=rdiff&auth_token="+quandl_auth_token,"https://www.quandl.com/api/v1/datasets/PERTH/SLVR_USD_D.json?rows=1&transformation=rdiff&auth_token="+quandl_auth_token,"https://www.quandl.com/api/v1/datasets/PERTH/PLAT_USD_D.json?rows=1&transformation=rdiff&auth_token="+quandl_auth_token],metal_ask_price=[],metal_bid_price=[],metal_pct_chg=[],metal_date=[],metal_totals=[0,0,0],current_metal,metal_types=[],GOLD=0,SILVER=1,PLATINUM=2,metal_total_data={0:[],1:[],2:[]},tmp_timeout;$(window).load(function(){var e=window.location.pathname,t=e.split("/").pop();$(".icon-spinner2").click(function(){location.reload()}),$("tr").click(function(){$(this).find("a")[0]&&$(this).find("a")[0].click()}),$(".icon-account-logout").click(function(){Parse.User.logOut(),window.location.href="./index.html"}),$(".icon-cog").click(function(){window.location.href="./settings.html"}),$("#sign-up-btt").click(function(){createUser()}),$("#log-in-btt").click(function(){loginUser()}),$("#facebook-btt").click(function(){loginFacebookUser()}),$("#settings-update-btt").click(function(){updateUserChanges()}),$(".mtb-1").click(function(){$(".graph-panel").removeClass("graph-panel-show"),$(".market-status").fadeIn(0),$(".market-list").fadeIn(0),"mymetal.html"==t&&$(".my_stack").fadeIn(0),$(".mtb-2").removeClass("mobile-toggle-selected"),$(".mtb-1").addClass("mobile-toggle-selected")}),$(".mtb-2").click(function(){$(".market-status").fadeOut(0),$(".market-list").fadeOut(0),"mymetal.html"==t&&$(".my_stack").fadeOut(0),$(".mtb-1").removeClass("mobile-toggle-selected"),$(".mtb-2").addClass("mobile-toggle-selected"),$(".graph-panel").addClass("graph-panel-show"),drawGraph()});var n=function(){winWidth=$(window).width(),winHeight=$(window).height(),winWidth>999&&($(".graph-panel").removeClass("graph-panel-show"),$(".market-status").fadeIn(0),$(".market-list").fadeIn(0),"mymetal.html"==t&&$(".my_stack").fadeIn(0),$(".mtb-2").removeClass("mobile-toggle-selected"),$(".mtb-1").addClass("mobile-toggle-selected"))};$(window).resize(n)});var metal_price_url=["https://www.quandl.com/api/v1/datasets/WSJ/AU_EIB.json?auth_token="+quandl_auth_token+"&","https://www.quandl.com/api/v1/datasets/WSJ/AG_EIB.json?auth_token="+quandl_auth_token+"&","https://www.quandl.com/api/v1/datasets/WSJ/PL_MKT.json?auth_token="+quandl_auth_token+"&"],metal_graphFlag=[],metal_prices=[[]],graph_idx=0,graph_src="month",coinChart,StackItem=Parse.Object.extend("StackItem",{getMetal:function(){return this.get("metal")},setMetal:function(e){this.set("metal",e)},getType:function(){return this.get("type")},setType:function(e){this.set("type",new StackType({id:e}))},getPurchaseDate:function(){return this.get("purchase_date")},setPurchaseDate:function(e){this.set("purchase_date",e)},getQty:function(){return this.get("qty")},setQty:function(e){this.set("qty",e)},getPremium:function(){return this.get("premium")},setPremium:function(e){this.set("premium",e)},getUnitPrice:function(){return this.get("unit_price")},setUnitPrice:function(e){this.set("unit_price",e)},getPercentAu:function(){return this.get("percent_au")},setPercentAu:function(e){this.set("percent_au",e)},getWeight:function(){return this.get("weight")},setWeight:function(e){this.set("weight",e)},getPic:function(){return this.get("pic")},setPic:function(e){this.set("pic",e)}}),StackTotal=Parse.Object.extend("StackTotal",{getOwner:function(){return this.get("owner")},setOwner:function(e){this.set("owner",e)},getMetal:function(){return this.get("metal")},setMetal:function(e){this.set("metal",e)},getTotal:function(){return this.get("total")},setTotal:function(e){this.set("total",e)},isCurrent:function(){return this.get("current")},setCurrent:function(e){this.set("current",e)}}),StackType=Parse.Object.extend("StackType",{
getName:function(){return this.get("name")},setName:function(e){this.set("name",e)},getPercentMetal:function(){return this.get("percent_metal")},setPercentMetal:function(e){this.set("percent_metal",e)},getWeight:function(){return this.get("weight")},setWeight:function(e){this.set("weight",e)}});